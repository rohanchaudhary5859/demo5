(function(t){function e(e){for(var s,n,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)n=o[p],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0197":function(t,e,a){},"0613":function(t,e,a){},"19a9":function(t,e,a){},"26c2":function(t,e,a){"use strict";a("e469")},2959:function(t,e,a){},"310c":function(t,e,a){},3440:function(t,e,a){},"36d2":function(t,e,a){"use strict";a("4b21")},"36f9":function(t,e,a){},3864:function(t,e,a){},"3b5c":function(t,e,a){"use strict";a("310c")},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="4678"},"46df":function(t,e,a){},4871:function(t,e,a){"use strict";a("3440")},"4b21":function(t,e,a){},"4d82":function(t,e,a){"use strict";a("3864")},5078:function(t,e,a){},5206:function(t,e,a){"use strict";a("aad0")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("4de4"),a("d3b7"),a("25f0"),a("fb6a");var s=a("a026"),i=a("bc3a"),r=a.n(i),n=a("3835"),o=a("2909"),c=a("5530"),u=(a("a9e3"),a("a15b"),a("33d1"),a("ea98"),a("07ac"),a("7db0"),a("d81d"),a("b64b"),a("c740"),a("99af"),a("caad"),a("2532"),a("159b"),a("e9c4"),a("ac1f"),a("841c"),a("1276"),a("4fad"),a("a434"),a("2f62")),l=a("782e"),p=a.n(l),d=a("1157"),h=a.n(d),f=a("1da1"),g=a("d4ec"),m=a("bee2"),v=a("ade3"),C=(a("96cf"),a("00b4"),a("b9b9")),b=a("fd34"),y=a.n(b),I={AVATAR:y.a,TODAY:"Today",YESTERDAY:"Yesterday",VIDEO_THUMBNAIL:window.wpguppy_scripts_vars.videoThumbnail},_=window.wpguppy_scripts_vars.chatSetting,S=window.wpguppy_scripts_vars.logoutUrl,w=window.wpguppy_scripts_vars.chatSetting.translations,T=window.wpguppy_scripts_vars.chatSetting.socketHost+":"+window.wpguppy_scripts_vars.chatSetting.socketPort,L=(window.wpguppy_scripts_vars.chatSetting.socketPort,a("c1df")),M=a.n(L),k=function(){function t(){Object(g["a"])(this,t),Object(v["a"])(this,"userId",D.state.userId)}return Object(m["a"])(t,null,[{key:"updateUserStatus",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].axios.post("update-user-status",e);case 3:return a=t.sent,"success"==a.data.type&&(i=JSON.parse(JSON.stringify(a.data.userData)),4!=e.statusType&&3!=e.statusType||(i["senderUserName"]=D.state.userProfile.userName,i["senderUserAvatar"]=D.state.userProfile.userAvatar,i["receiverMuteNotification"]=e.muteNotification,r={userData:i},D.dispatch("triggerSocketEvents",{event:"updateUser",payload:r}))),t.abrupt("return",a);case 8:return t.prev=8,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"sendGuppyInvite",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var a,i,r,n,o,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].axios.post("send-guppy-invite",e);case 3:return a=t.sent,"success"==a.data.type&&(a.data.autoInvite&&a.data.messagelistData&&a.data.friendData&&a.data.resendRequest&&D.commit("startChat",{friendData:a.data.friendData,messagelistData:a.data.messagelistData}),a.data.messagelistData&&a.data.chatData&&(i=JSON.parse(JSON.stringify(a.data.messagelistData)),r=JSON.parse(JSON.stringify(a.data.chatData)),n=a.data.userName,o=a.data.userAvatar,c=a.data.chatData.chatType,u=0,l={chatData:r,messagelistData:i,userName:n,userAvatar:o,userId:u,chatType:c},D.dispatch("triggerSocketEvents",{event:"sendMessage",payload:l}))),t.abrupt("return",a);case 8:return t.prev=8,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getMessangerChatInfo",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].axios.get("get-messenger-chat-info?chatType="+e.chatType+"&chatId="+e.chatId+"&userId="+e.userId);case 3:return a=t.sent,t.abrupt("return",a);case 7:return t.prev=7,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getMessageTime",value:function(t){var e=null;return t&&(e=Object(C["a"])(new Date(1e3*t),"h:MM tt")),e}},{key:"getLongDateTime",value:function(t){var e=null,a=new Date(1e3*t),s=M()(a),i=M()().endOf("day"),r=i.diff(s,"days");return e=0==r?Object(C["a"])(a,"h:MM tt"):1==r?I.YESTERDAY:r>1&&r<7?Object(C["a"])(a,"ddd"):new Date(1e3*t).toLocaleDateString(),e}},{key:"updateSeenMessagesCounter",value:function(t){var e=this;s["a"].axios.post("update-guppy-message",t).then((function(t){if("success"==t.data.type){if([1,3].includes(Number(t.data.chatType))&&Object.keys(t.data.messageIds).length){var a={senderId:t.data.senderId,chatId:t.data.chatId,messageIds:t.data.messageIds,messageCounter:t.data.messageCounter,chatType:t.data.chatType};D.dispatch("triggerSocketEvents",{event:"updateMsgStatus",payload:a})}}else"error"==t.data.type&&e.alertBox("error",e.TRANS.error_title,t.data.message_desc)})).catch((function(t){console.log(t)}))}},{key:"validateEmail",value:function(t){var e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(t)}},{key:"messagesScrollList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;s["a"].nextTick((function(){var a=document.getElementById("message-wrap_"+e);a&&(a.scrollTop=a.scrollHeight-t)}))}},{key:"playNotificationBell",value:function(){var t=_.notificationBellUrl,e=document.createElement("audio");e.autoplay=!0,e.load(),e.addEventListener("load",(function(){e.play()}),!0),e.src=t}}]),t}(),A=a("daa8"),O=function(){function t(){Object(g["a"])(this,t),Object(v["a"])(this,"socket",void 0)}return Object(m["a"])(t,[{key:"socketConnection",value:function(t){var e=!1;return"https:"===window.location.protocol&&(e=!0),this.socket=Object(A["a"])(T,{auth:{token:t},secure:e,reconnect:!0}),this.socket}},{key:"connectUser",value:function(t){this.socket&&this.socket.emit("addUser",{userId:t})}},{key:"sendMessage",value:function(t){this.socket&&this.socket.connected&&(this.socket.emit("receiverChatData",t),this.socket.emit("senderChatData",t))}},{key:"updateMsgStatus",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("updateMsgStatus",t)}},{key:"deleteMessage",value:function(t){this.socket&&this.socket.connected&&(this.socket.emit("deleteSenderMessage",t),this.socket.emit("deleteReceiverMessage",t))}},{key:"isTyping",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("isTyping",t)}},{key:"updateUser",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("updateReceiverUser",t),this.socket&&this.socket.connected&&this.socket.emit("updateSenderUser",t)}},{key:"updateMuteChatNotify",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("updateMuteChatNotify",t)}},{key:"clearChat",value:function(t){this.socket&&this.socket.connected&&this.socket.emit("clearChat",t)}}]),t}(),j=new O,x=(a("2ca0"),function(){function t(){Object(g["a"])(this,t),Object(v["a"])(this,"userId",window.wpguppy_scripts_vars.userId),Object(v["a"])(this,"recordLimit",Number(window.wpguppy_scripts_vars.showRec))}return Object(m["a"])(t,[{key:"getConversation",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e,a,i){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=D.state.userId,t.prev=1,t.next=4,s["a"].axios.get("load-guppy-messages-list?userId="+r+"&offset="+e+"&search="+a+"&chatType="+i);case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t["catch"](1),console.log(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,a,s){return t.apply(this,arguments)}return e}()},{key:"getUsersList",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var a,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"",i=D.state.userId,t.prev=2,t.next=5,s["a"].axios.get("load-guppy-users?userId="+i+"&offset="+e+"&search="+a);case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t["catch"](2),console.log(t.t0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getFriendRequestsList",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var a,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"",i=D.state.userId,t.prev=2,t.next=5,s["a"].axios.get("load-guppy-friend-requests?userId="+i+"&offset="+e+"&search="+a);case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t["catch"](2),console.log(t.t0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getContactList",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e,a){var i,r,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=n.length>2&&void 0!==n[2]?n[2]:"",r=D.state.userId,t.prev=2,t.next=5,s["a"].axios.get("load-guppy-contacts?userId="+r+"&offset="+e+"&search="+i+"&friendStatus="+a);case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t["catch"](2),console.log(t.t0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getWhatsappUserList",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var a,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"",i=D.state.userId,t.prev=2,t.next=5,s["a"].axios.get("load-guppy-whatsapp-users?userId="+i+"&offset="+e+"&search="+a);case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t["catch"](2),console.log(t.t0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getAdminSupportUserList",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var a,i,r,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:"",i=D.state.userId,r=Number(D.state.userType),t.prev=3,t.next=6,s["a"].axios.get("load-guppy-support-users?userId="+i+"&offset="+e+"&userType="+r+"&search="+a);case 6:return t.abrupt("return",t.sent);case 9:return t.prev=9,t.t0=t["catch"](3),console.log(t.t0),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getAdminSupportUserChats",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var a,i,r,n,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"",i=o.length>2?o[2]:void 0,r=D.state.userId,n=Number(D.state.userType),t.prev=4,t.next=7,s["a"].axios.get("load-guppy-support-messages-list?userId="+r+"&offset="+e+"&userType="+n+"&search="+a+"&isSupportMember="+i);case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t["catch"](4),console.log(t.t0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"sendMessage",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var a,i,r,n,o,u,l,p,d,f,g,m,v=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=v.length>1&&void 0!==v[1]?v[1]:"",h()(".at-replay_upload").removeClass("at-uploadoption_open"),i="",r="",n=new Object,n=D.state.isMessangerChat?Object(c["a"])({},D.state.chatInfo):Object(c["a"])({},D.state.chatInfo[a]),o=n.muteNotification,3!=n.chatType&&1!=n.chatType||(i=n.userName,r=n.userAvatar),t.prev=8,t.next=11,s["a"].axios.post("send-guppy-message",e);case 11:return u=t.sent,"success"==u.data.type&&(l=JSON.parse(JSON.stringify(u.data.chatData)),l["isSender"]=!0,D.commit("appendMessage",l),p=JSON.parse(JSON.stringify(u.data.messagelistData)),d=JSON.parse(JSON.stringify(u.data.chatData)),f=u.data.chatType,g=D.state.userId,m={chatData:d,messagelistData:p,userName:i,userAvatar:r,userId:g,chatType:f,muteNotification:o},D.dispatch("triggerSocketEvents",{event:"sendMessage",payload:m})),t.abrupt("return",u.data);case 16:return t.prev=16,t.t0=t["catch"](8),this.errors=t.t0,t.abrupt("return",t.t0);case 20:case"end":return t.stop()}}),t,this,[[8,16]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"pusherTypeIndicator",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].axios.post("user-typing",e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getUnReadMessages",value:function(){var t=D.state.userId,e=Number(D.state.userType),a=D.state.isSupportMember;s["a"].axios.get("load-unread-count?userId="+t+"&userType="+e+"&isSupportMember="+a).then((function(t){D.commit("unseenCountMessage",t.data.unReadContent)})).catch((function(t){console.log(t)}))}},{key:"muteNotification",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=D.state.userId,t.prev=1,t.next=4,s["a"].axios.post("mute-guppy-notifications",e);case 4:return i=t.sent,"success"==i.data.type&&(r={muteType:e.muteType,chatType:e.chatType,chatId:e.chatId,isMute:"1"==i.data.muteAll,userId:a},D.commit("updateMuteChatNotify",r),D.dispatch("triggerSocketEvents",{event:"updateMuteChatNotify",payload:r})),t.abrupt("return",i);case 9:return t.prev=9,t.t0=t["catch"](1),console.log(t.t0),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getProfileInfo",value:function(){var t=D.state.userId,e=Number(D.state.userType);s["a"].axios.get("load-profile-info?userId="+t+"&userType="+e).then((function(t){if("success"==t.data.type){var e={userInfo:t.data.userInfo};t.data.onlineFriendslist&&(e.onlineFriendslist=t.data.onlineFriendslist),D.commit("setUserProfile",e)}else t.data.type})).catch((function(t){console.log(t)}))}},{key:"getGuestUserInfo",value:function(){var t="",e=document.cookie.split("; ").find((function(t){return t.startsWith("guppy_guest_account=")}));if(e&&(t=e.split("=")[1]),t){var a=decodeURIComponent(t).split("|"),s={muteNotification:!1,userAvatar:"",userEmail:"",userId:a[1],userName:a[0],userPhone:""};D.commit("setUserProfile",{userInfo:s})}}}]),t}()),N=new x;s["a"].use(u["a"]);var R=!0,U=1500,D=new u["a"].Store({state:{chatInfo:{},adminSupportUserListFlag:!1,adminSupportUserListOffset:0,noMoreAdminSupportUsers:!1,adminSupportUserSearch:"",adminSupportUserList:{},adminSupportChatsFlag:!1,adminSupportChatsOffset:0,noMoreAdminSupportChats:!1,adminSupportChatsSearch:"",adminSupportChats:{},adminSupportChatCount:0,privateChatOffset:0,noMorePrivateChat:!1,privateConvFlag:!1,privateChatSearch:"",privateConversation:{},privateChatCount:0,contactListFlag:!1,contactListOffset:0,noMoreContactUsers:!1,contactUserSearch:"",contactList:{},requestListFlag:!1,requestListOffset:0,noMoreRequesttUsers:!1,requestUserSearch:"",requestList:{},requestCount:0,friendListFlag:!1,friendListOffset:0,noMoreFriendUsers:!1,friendUserSearch:"",friendList:{},blockListFlag:!1,blockListOffset:0,noMoreBlockUsers:!1,blockUserSearch:"",blockList:{},whatsappListFlag:!1,whatsappListOffset:0,noMoreWhatsappUsers:!1,whatsappUserSearch:"",whatsappList:{},windowWidth:0,userId:window.wpguppy_scripts_vars.userId,userType:window.wpguppy_scripts_vars.userType,isSupportMember:window.wpguppy_scripts_vars.isSupportMember,FriendsOffset:0,BlocksOffset:0,isScrollList:!1,pusher:!1,noMoreFriends:!1,invitationResp:!1,ReceiveInvitation:!1,userFriendFlag:!1,userBlockFlag:!1,autoInvite:!0,isEmptyView:!0,isOpenMessagesScr:!1,isMessangerChat:!1,isWhatsappChat:!1,isMobileView:!1,userResponseData:"",unseenMsgCount:"",userProfile:"",quoteMessageId:{},widgetChatMessageInput:{},messageInput:"",friendSearch:"",activeTab:"users",messagesList:{},selectedChatId:"",isfloatingChat:!1},getters:{getTotalUnreadCount:function(t){var e=t.privateChatCount,a=t.adminSupportChatCount,s=t.requestCount;return Number(e)+Number(a)+Number(s)},getMessageInput:function(t){return function(e){return t.isMessangerChat?t.messageInput:e?t.widgetChatMessageInput[e]:void 0}},typingUsersIndicatorText:function(t){return function(e){var a="";t.isMessangerChat?a=t.chatInfo:e&&(a=t.chatInfo[e]);var s="typingUsers"in a,i="",r="",n=0;if(s){var o=a.typingUsers;if(n=o.length,n){var c=o.slice(0,3);1==n?(i="isTypingText",r=c[0]):2==n||3==n?(i="areTypingText",r=c.join(", ")):(i="moreTypingText",r=c.join(", "))}}return{indicator:i,typingUsers:r,tUsers:n}}},isDisabledFooter:function(t){return function(e){var a="";if(t.isMessangerChat?a=t.chatInfo.chatId:e&&(a=e),t.messagesList[a]){var s=t.messagesList[a].messages.at(-1);if(s)return 5==s.messageType}return!1}},loadChat:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isMessangerChat){if(t.messagesList[t.chatInfo.chatId])return t.messagesList[t.chatInfo.chatId].loadChat}else if(e&&t.messagesList[e])return t.messagesList[e].loadChat;return!0}},messageLoading:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isMessangerChat){if(t.messagesList[t.chatInfo.chatId])return t.messagesList[t.chatInfo.chatId].messagesLoading}else if(e&&t.messagesList[e])return t.messagesList[e].messagesLoading;return!1}},widgetChats:function(t){return t.isMessangerChat?[]:Object.values(t.chatInfo).filter((function(t){return!1===t.isMinimize}))},minimizeChats:function(t){return t.isMessangerChat?[]:Object.values(t.chatInfo).reverse().filter((function(t){return!0===t.isMinimize}))},getQuoteMessage:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a="";a=t.isMessangerChat?t.chatInfo.chatId:e;var s=t.quoteMessageId[a];if(s){var i=t.messagesList[a];if(i)return i.messages.find((function(t){return t.messageId==s}))}return""}},getQuoteMessageId:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a="";return a=t.isMessangerChat?t.chatInfo.chatId:e,t.quoteMessageId[a]}},muteChatNotify:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isMessangerChat)return t.chatInfo.muteNotification;var a=Object(c["a"])({},t.chatInfo[e]);return!!a&&a.muteNotification}},messagesListData:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=null,s="";return s=t.isMessangerChat?t.chatInfo.chatId:e,t.messagesList[s]?t.messagesList[s].messages.map((function(t){var e=new Date(1e3*t.timeStamp).toLocaleDateString();if(a!==e){var i=M()(new Date(1e3*t.timeStamp)),r=M()().endOf("day"),n=r.diff(i,"days");t.messageSentDate=0==n?I.TODAY:1==n?I.YESTERDAY:n>1&&n<7?Object(C["a"])(new Date(1e3*t.timeStamp),"dddd"):Object(C["a"])(new Date(1e3*t.timeStamp),"dddd, mmm d, yyyy")}else t.messageSentDate="";return a=e,t["chatId"]=s,t})):[]}},getChatInfo:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a={};return t.isMessangerChat?a=t.chatInfo:e?a=t.chatInfo[e]:t.selectedChatId&&(a=t.chatInfo[t.selectedChatId]),a||{}}},chatInfoData:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t.isMessangerChat?t.chatInfo:e?t.chatInfo[e]:{}}}},mutations:{removeChatInfo:function(t,e){s["a"].delete(t.chatInfo,e.chatId)},refreshSupportChats:function(t){s["a"].set(t,"adminSupportChatsFlag",!1),s["a"].set(t,"adminSupportChatsOffset",0),s["a"].set(t,"noMoreAdminSupportChats",!1),s["a"].set(t,"adminSupportChatsSearch",""),s["a"].set(t,"adminSupportChats",{}),s["a"].set(t,"adminSupportChatCount",0)},updateUserInfo:function(t,e){"userId"in e&&s["a"].set(t,"userId",e.userId),"userType"in e&&s["a"].set(t,"userType",e.userType),"isSupportMember"in e&&s["a"].set(t,"isSupportMember",e.isSupportMember)},removeContactListItem:function(t,e){s["a"].delete(t.contactList,e.chatId)},updateWidgetType:function(t,e){"isMessangerChat"in e&&(t.isMessangerChat=e.isMessangerChat,t.isMobileView&&(t.chatInfo=new Object)),"isWhatsappChat"in e&&(t.isWhatsappChat=e.isWhatsappChat),"isMobileView"in e&&(t.isMobileView=e.isMobileView),"isfloatingChat"in e&&(t.isfloatingChat=e.isfloatingChat)},updateChatInfo:function(t,e){if(0==Object.keys(e).length)s["a"].set(t,"chatInfo",{}),s["a"].set(t,"widgetChatMessageInput",{}),s["a"].set(t,"messageInput","");else if(t.isMessangerChat)s["a"].set(t,"chatInfo",e.data);else if(e.userClick&&t.isWhatsappChat){var a=new Object;a["00_4"]=e.data,s["a"].set(t,"chatInfo",a),s["a"].delete(t.widgetChatMessageInput,"00_4")}else{t.chatInfo["00_4"]&&e.userClick&&s["a"].delete(t.chatInfo,"00_4"),s["a"].delete(t.widgetChatMessageInput,"00_4");var i=t.windowWidth,r=3;i<1141?r=1:i<1601&&(r=2);var n=e.data.chatId,o=!1,c=!1;Object.prototype.hasOwnProperty.call(t.chatInfo,n)&&(o=!0),e.userClick&&(c=!0);var u=Object.values(t.chatInfo).filter((function(t){return 0==t.isMinimize}));if(u.length==r)if(c)if(o){var l=u.findIndex((function(t){return t.chatId==n}));if(-1==l){var p={};p=t.chatInfo[n],p.isMinimize=!1,s["a"].delete(t.chatInfo,n),s["a"].set(t.chatInfo,n,p),s["a"].set(t.chatInfo[u[0].chatId],"isMinimize",!0)}}else s["a"].set(t.chatInfo[u[0].chatId],"isMinimize",!0),e.data["isMinimize"]=!1,s["a"].set(t.chatInfo,n,e.data);else e.data["isMinimize"]=!o,s["a"].set(t.chatInfo,n,e.data);else if(c)if(o){var d={};d=t.chatInfo[n],d.isMinimize=!1,s["a"].set(t.chatInfo,n,d)}else e.data["isMinimize"]=!1,s["a"].set(t.chatInfo,n,e.data);else if(o){var h=u.findIndex((function(t){return t.chatId==n})),f=!0;-1!=h&&(f=!1),e.data["isMinimize"]=f,s["a"].set(t.chatInfo,n,e.data)}else e.data["isMinimize"]=!0,s["a"].set(t.chatInfo,n,e.data)}},unseenCountMessage:function(t,e){t.privateChatCount=Number(e.privateChatCount),t.adminSupportChatCount=Number(e.supportbaseChatCount),t.requestCount=Number(e.requestCount)},updateTabListRecord:function(t,e){if(Object.keys(t[e.listType]).length&&e.isScrolling){var a=Object(c["a"])(Object(c["a"])({},t[e.listType]),e.list);s["a"].set(t,e.listType,a)}else s["a"].set(t,e.listType,e.list)},selectTab:function(t,e){var a=[].concat(Object(o["a"])(_.enabledTabs),["profile"]);a.includes(e)&&(t.activeTab=e)},startChat:function(t,e){var a=e.friendData,i=e.messagelistData,r=a.chatId;s["a"].delete(t.contactList,r);var n=Object(c["a"])(Object(c["a"])({},a),{},{isSender:!0,message:i.message,isStartChat:i.isStartChat,blockedId:i.blockedId,messageId:i.messageId,messageStatus:i.messageStatus,messageType:i.messageType,muteNotification:!1,timeStamp:i.timeStamp,isMinimize:!1});if(t.activeTab="messages",!Object.prototype.hasOwnProperty.call(t.friendList,r)&&!a.isBlocked){var o=Object.assign({chatId:a},t.friendList);s["a"].set(t,"friendList",o)}if(!Object.prototype.hasOwnProperty.call(t.privateConversation,r)){var u=Object.assign({chatId:n},t.privateConversation);s["a"].set(t,"privateConversation",u)}t.isMessangerChat?s["a"].set(t,"chatInfo",n):s["a"].set(t.chatInfo,r,n),h()(".at-chat").addClass("at-opnchatbox")},updateConversationMessage:function(t,e){var a=e.chatId,i=e.chatType,r="";if(1==i?r=["privateConversation","friendList"]:3==i&&(r=["adminSupportUserList","adminSupportChats"]),e.messageId)r.forEach((function(s){Object.prototype.hasOwnProperty.call(t[s],a)&&t[s][a].messageId==e.messageId&&(t[s][a].messageStatus=2)}));else if(e.messagelistData){var n=JSON.parse(JSON.stringify(e.messagelistData));n["clearChat"]=!1;var o=0;if(r.forEach((function(e){Object.prototype.hasOwnProperty.call(t[e],a)&&s["a"].delete(t[e],a)})),t.isMessangerChat)0!==Object.keys(t.chatInfo).length&&t.chatInfo.chatId==a&&t.chatInfo.chatType==i||(o=n.UnreadCount),n.isStartChat&&(s["a"].set(t,"chatInfo",n),h()(".at-chat").addClass("at-opnchatbox"));else{var u=Object.values(t.chatInfo).filter((function(t){return 0==t.isMinimize&&t.chatId==a})).length;0==u&&(o=n.UnreadCount);var l=!1;n.isStartChat&&(l=!0),t.isMobileView||this.commit("updateChatInfo",{data:n,userClick:l})}if(Number(o)>0)if(1==n.chatType){var p=Number(t.privateChatCount)+1;s["a"].set(t,"privateChatCount",p)}else if(3==n.chatType){var d=Number(t.adminSupportChatCount)+1;s["a"].set(t,"adminSupportChatCount",d)}n.UnreadCount=o;var f=new Object;f[a]=n,r.forEach((function(e){var a=Object(c["a"])(Object(c["a"])({},f),t[e]);s["a"].set(t,e,a)}))}},updateWindowWidth:function(t,e){t.windowWidth=e.windowWidth},updateSelectedChatId:function(t,e){s["a"].set(t,"selectedChatId",e.chatId)},closeWidgetChatbox:function(t,e){s["a"].delete(t.widgetChatMessageInput,e.chatId),s["a"].delete(t.chatInfo,e.chatId),s["a"].delete(t.quoteMessageId,e.chatId)},minimizeWidgetChatbox:function(t,e){var a=e.chatId;if(e.isMinimize){var i=Object(c["a"])({},t.chatInfo[a]);i.isMinimize=!0,s["a"].delete(t.widgetChatMessageInput,a),s["a"].delete(t.chatInfo,a),s["a"].set(t.chatInfo,a,i)}else{var r=t.windowWidth,n=3;r<1141?n=1:r<1601&&(n=2);var o=Object.values(t.chatInfo).filter((function(t){return 0==t.isMinimize}));if(o.length==n&&s["a"].set(t.chatInfo[o[0].chatId],"isMinimize",!0),t.chatInfo[a].UnreadCount>0){var u=t.userId,l={chatId:a,chatType:t.chatInfo[a].chatType,userId:u};k.updateSeenMessagesCounter(l)}var p=Object(c["a"])({},t.chatInfo[a]);p.isMinimize=!1,s["a"].delete(t.chatInfo,a),s["a"].set(t.chatInfo,a,p)}},updateQuoteMessageId:function(t,e){s["a"].set(t.quoteMessageId,e.chatId,e.messageId)},removeQuote:function(t,e){s["a"].delete(t.quoteMessageId,e.chatId)},updateMessageInput:function(t,e){t.isMessangerChat?s["a"].set(t,"messageInput",e.text):e.chatId&&s["a"].set(t.widgetChatMessageInput,e.chatId,e.text)},updateSearch:function(t,e){t[e.search]=e.searchValue},updateRecordList:function(t,e){t[e.RecordList]=e.RecordListValue},updateOffset:function(t,e){t[e.offset]=e.offsetValue},updateListFlag:function(t,e){t[e.flag]=e.flagValue},declineInvite:function(t,e){s["a"].delete(t.requestList,e.chatId),s["a"].set(t.contactList,e.chatId,e)},blockUser:function(t,e){s["a"].delete(t.requestList,e.chatId),s["a"].set(t.blockList,e.chatId,e)},acceptInvite:function(t,e){var a=e.chatId;s["a"].delete(t.requestList,a),s["a"].set(t.friendList,a,e),t.isMessangerChat?s["a"].set(t,"chatInfo",e):(e["isMinimize"]=!1,s["a"].set(t.chatInfo,a,e)),t.isEmptyView=!1,t.isOpenMessagesScr=!0},toggleMessagesScr:function(t,e){t.isEmptyView=e.isEmptyView,t.isOpenMessagesScr=e.isOpenMessagesScr},UpdateMessageList:function(t,e){var a=e.chatId,i={messages:e.messages,loadChat:e.loadChat,messagesLoading:!1},r=!1;Object.prototype.hasOwnProperty.call(t.messagesList,a)?(t.messagesList[a].messages=i.messages,t.messagesList[a].loadChat=i.loadChat,t.messagesList[a].messagesLoading=!1,r=!0):s["a"].set(t.messagesList,a,i),r?k.messagesScrollList(e.lastScrollTop,e.chatId):k.messagesScrollList(0,e.chatId)},userResponse:function(t,e){t.userResponseData=e,t.isEmptyView=!1,t.isOpenMessagesScr=!1},UpdateSelectUserStatus:function(t,e){1==e.chatType&&(e.chatId in t.privateConversation&&s["a"].set(t.privateConversation[e.chatId],"isBlocked",e.isBlocked),e.isBlocked?(e.chatId in t.friendList&&s["a"].delete(t.friendList,e.chatId),Object.prototype.hasOwnProperty.call(t.blockList,e.chatId)||s["a"].set(t.blockList,e.chatId,e)):(Object.prototype.hasOwnProperty.call(t.blockList,e.chatId)&&s["a"].delete(t.blockList,e.chatId),1==e.friendStatus?s["a"].set(t.friendList,e.chatId,e):Object.prototype.hasOwnProperty.call(t.contactList,e.chatId)||s["a"].set(t.contactList,e.chatId,e)));var a=e.chatId.split("_");if(a=1==e.chatType?a[0]:a[1],t.isMessangerChat)1==t.chatInfo.chatType&&(t.chatInfo=e);else if(e.chatId in t.chatInfo){e["isMinimize"]=!1;var i=t.chatInfo[e.chatId];i&&(i["blockedId"]=a,i["blockerId"]=e.blockerId,i["clearChat"]=e.clearChat,i["isBlocked"]=e.isBlocked,i["isOnline"]=e.isOnline,s["a"].set(t.chatInfo,e.chatId,i))}},setUserProfile:function(t,e){t.userProfile=e.userInfo},receiveMessage:function(t,e){var a=e.chatId,s=e.chatData.chatType,i=e.chatData.isSender,r="";if(1==s?r="privateConversation":3==s&&(r="adminSupportChats"),Object.prototype.hasOwnProperty.call(t[r],a)){var n=t[r][a].muteNotification;t.userProfile.muteNotification||n||i||k.playNotificationBell()}if(t.messagesList[a]){var o=t.messagesList[a].messages.findIndex((function(t){return t.messageId==e.chatData.messageId})),c=e.chatData.metaData.randNum,u=t.messagesList[a].messages.findIndex((function(t){return!!t.metaData&&t.metaData.randNum==c}));-1==o&&-1==u&&t.messagesList[a].messages.push(e.chatData),h()("#message-wrap_"+a).length&&h()("#message-wrap_"+a).animate({scrollTop:h()("#message-wrap_"+a)[0].scrollHeight},800)}if(t.isMessangerChat){if(t.chatInfo.chatId==e.chatId&&t.chatInfo.chatType==e.chatData.chatType&&!i){var l=t.userId,p={chatId:t.chatInfo.chatId,chatType:e.chatData.chatType,userId:l};k.updateSeenMessagesCounter(p)}}else{var d=Object.values(t.chatInfo).filter((function(t){return 0==t.isMinimize&&t.chatId==a})).length;if(0!=d&&!i){var f=t.userId,g={chatId:t.chatInfo[a].chatId,chatType:e.chatData.chatType,userId:f};k.updateSeenMessagesCounter(g)}}},updateUnseenCounter:function(t,e){var a="",i="";1==e.chatType?(i="privateChatCount",a=["privateConversation","friendList"]):3==e.chatType?(i="adminSupportChatCount",a=["adminSupportUserList","adminSupportChats"]):5==e.chatType&&(i="requestCount"),1!=e.chatType&&3!=e.chatType||a.forEach((function(a){e.chatId&&t[a][e.chatId]&&s["a"].set(t[a][e.chatId],"UnreadCount",0)}));var r=0;t[i]>0&&(r=Number(t[i])-Number(e.UnreadCount),s["a"].set(t,i,r))},appendMessage:function(t,e){var a=e.chatId,i=e.metaData.randNum;if(t.messagesList[a]){var r=t.messagesList[a].messages.findIndex((function(t){return!!t.metaData&&t.metaData.randNum==i}));r>-1?s["a"].set(t.messagesList[a]["messages"],r,e):t.messagesList[a]["messages"].push(e),k.messagesScrollList(0,e.chatId)}},updateMessageStatus:function(t,e){var a=e.chatId,i=e.messageIds,r=e.messageCounter,o=e.chatType,c=e.isSender,u="";if(1==o?u=["privateConversation","friendList"]:3==o&&(u=["adminSupportUserList","adminSupportChats"]),t.messagesList[a]&&c){if(("1"==o||"3"==o)&&i)for(var l=function(){var e=Object(n["a"])(d[p],1),s=e[0],i=t.messagesList[a].messages.findIndex((function(t){return t.messageId==s}));i>-1&&(t.messagesList[a].messages[i].messageStatus=1)},p=0,d=Object.entries(i);p<d.length;p++)l()}else if(!c){a=a.split("_");var h="";if(1==o){var f=e.senderId;h="privateChatCount",a=f+"_"+o}else if(3==o){var g=e.senderId;h="adminSupportChatCount",a=g+"_"+o}if(u.forEach((function(e){if(Object.prototype.hasOwnProperty.call(t[e],a)){var i=Number(t[e][a].UnreadCount)-Number(r);Number(i)>=0&&s["a"].set(t[e][a],"UnreadCount",i)}})),t[h]>0){var m=Number(t[h])-Number(r);s["a"].set(t,h,m)}t.isMessangerChat||Object.prototype.hasOwnProperty.call(t.chatInfo,a)&&s["a"].set(t.chatInfo[a],"UnreadCount",0)}},updateUser:function(t,e){var a=e.chatId,i=e.status,r=0,n=e.isBlocked,o=e.chatType,c=e.blockerId,u="";1==o&&(u="privateConversation",r=e.blockedId),1==o&&(3==i?(a in t.friendList&&s["a"].delete(t.friendList,a),t.userId==c&&(Object.prototype.hasOwnProperty.call(t.blockList,a)||s["a"].set(t.blockList,a,e))):1==i&&(Object.prototype.hasOwnProperty.call(t.friendList,a)||s["a"].set(t.friendList,a,e),t.userId==c&&a in t.blockList&&s["a"].delete(t.blockList,a)),Object.prototype.hasOwnProperty.call(t[u],a)&&(t[u][a].blockedId=r,t[u][a].friendStatus=i,t[u][a].isBlocked=n,t[u][a].isOnline=e.isOnline,t[u][a].muteNotification=e.muteNotification)),t.isMessangerChat?t.chatInfo.chatId==a&&t.chatInfo.chatType==o&&(t.chatInfo.isBlocked=n,t.chatInfo["blockedId"]=r,t.chatInfo["friendStatus"]=i,t.chatInfo["muteNotification"]=e.muteNotification):Object.prototype.hasOwnProperty.call(t.chatInfo,a)&&(s["a"].set(t.chatInfo[a],"isBlocked",n),s["a"].set(t.chatInfo[a],"blockedId",r),s["a"].set(t.chatInfo[a],"friendStatus",i),s["a"].set(t.chatInfo[a],"muteNotification",e.muteNotification),s["a"].set(t.chatInfo[a],"muteNotification",e.muteNotification))},deleteMessageStatus:function(t,e){var a=e.messageId,i=e.chatId,r=e.chatType;if(t.messagesList[i]){var n=t.messagesList[i].messages.findIndex((function(t){return t.messageId==a}));n>-1&&(t.messagesList[i].messages[n].messageStatus=2)}if(!t.isMessangerChat&&Object.prototype.hasOwnProperty.call(t.chatInfo,i)){var o=t.chatInfo[i].UnreadCount;o-=1,o>=0&&s["a"].set(t.chatInfo[i],"UnreadCount",o)}var c="",u="",l=0;1==r&&(l=t.privateChatCount-1,u="privateChatCount",c="privateConversation"),l>=0&&(s["a"].set(t,u,l),s["a"].set(t[c][i],"UnreadCount",l))},clearGuppyChat:function(t,e){var a=e.chatId;t.messagesList[a]&&(t.messagesList[a]["messages"]=[],t.messagesList[a].loadChat=!1);var i="";1==e.chatType&&(i=["privateConversation","friendList"]),i.forEach((function(e){t[e][a]&&s["a"].set(t[e][a],"clearChat",!0)}))},updateMessageLoadingFlag:function(t,e){if(t.messagesList[e.chatId])s["a"].set(t.messagesList[e.chatId],"messagesLoading",e.flagValue);else{var a={messages:null,loadChat:!0,messagesLoading:e.flagValue};s["a"].set(t.messagesList,e.chatId,a)}},updateMuteChatNotify:function(t,e){var a=e.muteType,i=[];0==a?(1==e.chatType&&(i=["privateConversation","friendList"]),t.isMessangerChat?t.chatInfo.chatId==e.chatId&&s["a"].set(t.chatInfo,"muteNotification",e.isMute):t.chatInfo[e.chatId]&&(t.chatInfo[e.chatId]["muteNotification"]=e.isMute),i.forEach((function(a){t[a][e.chatId]&&s["a"].set(t[a][e.chatId],"muteNotification",e.isMute)}))):t.userProfile.muteNotification=e.isMute},updateTypeIndicator:function(t,e){var a={},i=e.chatId;if(t.isMessangerChat?a=JSON.parse(JSON.stringify(t.chatInfo)):(1==e.chatType?i=e.senderId+"_"+e.chatType:3==e.chatType&&(i=i.split("_"),i=e.senderId+"_"+e.chatType),Object.prototype.hasOwnProperty.call(t.chatInfo,i)&&(a=JSON.parse(JSON.stringify(t.chatInfo[i])))),Object.keys(a).length){var r="typingUsers"in a;if(r||(a["typingUsers"]=[]),1==e.chatType||3==e.chatType){var n=a.chatId;if(n=n.split("_"),n=0==e.chatType?n[1]:n[0],n==e.senderId&&a.chatType==e.chatType)if(e.text)a["typingUsers"]=[],a.typingUsers.push(e.userName);else{var o=a.typingUsers.indexOf(e.userName);o>-1&&a.typingUsers.splice(o,1)}else{var c=a.typingUsers.indexOf(e.userName);c>-1&&a.typingUsers.splice(c,1)}}t.isMessangerChat?s["a"].set(t.chatInfo,"typingUsers",a.typingUsers):s["a"].set(t.chatInfo[i],"typingUsers",a.typingUsers)}}},actions:{startConversation:function(t,e){t.commit("startConversation",e)},unBlockUser:function(t,e){t.commit("unBlockUser",e)},toggleMessagesScr:function(t,e){t.commit("toggleMessagesScr",e)},userResponse:function(t,e){t.commit("userResponse",e)},clearGuppyChat:function(t,e){t.commit("clearGuppyChat",e)},UpdateMessageList:function(t,e){var a=t.state,i=e.chatData,r=i.chatId,n=i.receiverId,o=Number(i.chatType),c=a.userId,u=[],l=0,p=!0,d=a.userType,h=[];a.messagesList[r]&&(h=a.messagesList[r].messages,h.length&&(t.commit("updateMessageLoadingFlag",{flagValue:!0,chatId:r}),l=h[0].messageId)),s["a"].axios.get("load-guppy-chat?offset="+l+"&receiverId="+n+"&userId="+c+"&chatType="+o+"&userType="+d).then((function(a){if("success"==a.data.type){a.data.chatMessages.length||(p=!1),u=h.length?[].concat(a.data.chatMessages,h):a.data.chatMessages;var s={messages:u,lastScrollTop:e.lastScrollTop,messagesLoading:!0,loadChat:p,chatId:r};"undefined"!=typeof a.data.muteNotfication&&(s["muteNotfication"]=a.data.muteNotfication),t.commit("UpdateMessageList",s)}})).catch((function(t){console.log(t)}))},updateConversationMessage:function(t,e){t.commit("updateConversationMessage",e)},updateMessageStatus:function(t,e){t.commit("updateMessageStatus",e)},deleteMessageStatus:function(t,e){t.commit("deleteMessageStatus",e)},initializePusher:function(t,e){var a=new p.a(e.pusherKey,{cluster:e.pusherCluster,authEndpoint:e.restApiUrl+"channel-authorize"});if(a){var s=a.subscribe("private-user-"+e.userId);t.state.pusher=a,s.bind("recChatData",(function(e){t.commit("updateConversationMessage",e),t.commit("receiveMessage",e)})),s.bind("updateUser",(function(e){t.commit("updateUser",e)})),s.bind("clearChat",(function(e){t.commit("clearGuppyChat",e)})),s.bind("updateMuteChatNotify",(function(e){t.commit("updateMuteChatNotify",e)})),s.bind("senderChatData",(function(e){t.commit("receiveMessage",e),t.commit("updateConversationMessage",e)})),s.bind("updateMessage",(function(e){t.commit("updateMessageStatus",e)})),s.bind("deleteMessage",(function(e){t.commit("deleteMessageStatus",e),t.commit("updateConversationMessage",e)})),s.bind("isTyping",(function(e){t.commit("updateTypeIndicator",e)}))}},initializeSocket:function(t,e){var a=j.socketConnection(e.authToken);if(a){if(e.userId){var s=e.userId;j.connectUser(s)}a.on("receiverChatData",(function(e){t.commit("receiveMessage",e),t.commit("updateConversationMessage",e)})),a.on("senderChatData",(function(e){t.commit("receiveMessage",e),t.commit("updateConversationMessage",e)})),a.on("updateMsgStatus",(function(e){t.commit("updateMessageStatus",e)})),a.on("deleteSenderMessage",(function(e){t.commit("deleteMessageStatus",e),t.commit("updateConversationMessage",e)})),a.on("deleteReceiverMessage",(function(e){t.commit("deleteMessageStatus",e),t.commit("updateConversationMessage",e)})),a.on("isTyping",(function(e){t.commit("updateTypeIndicator",e)})),a.on("updateUser",(function(e){t.commit("updateUser",e)})),a.on("updateMuteChatNotify",(function(e){t.commit("updateMuteChatNotify",e)})),a.on("clearChat",(function(e){t.commit("clearGuppyChat",e)}))}},triggerSocketEvents:function(t,e){"socket"==_.realTimeOption&&_.socketEnable&&("sendMessage"==e.event?j.sendMessage(e.payload):"updateMuteChatNotify"==e.event?j.updateMuteChatNotify(e.payload):"updateMsgStatus"==e.event?j.updateMsgStatus(e.payload):"clearChat"==e.event?j.clearChat(e.payload):"deleteMessage"==e.event?j.deleteMessage(e.payload):"updateUser"==e.event&&j.updateUser(e.payload))},triggerclientEvents:function(t,e){"socket"==_.realTimeOption&&_.socketEnable?"isTyping"==e.event&&j.isTyping(e.payload):"pusher"==_.realTimeOption&&_.pusherEnable&&"isTyping"==e.event&&R&&(N.pusherTypeIndicator(Object(c["a"])({userId:t.state.userId},e.payload)),R=!1,setTimeout((function(){R=!0}),U))},initRealTimeChatSetting:function(t,e){if("pusher"==_.realTimeOption&&_.pusherEnable){var a={pusherKey:_.pusherKey,pusherCluster:_.pusherCluster,restApiUrl:window.wpguppy_scripts_vars.restapiurl,userId:t.state.userId};t.dispatch("initializePusher",a)}else if("socket"==_.realTimeOption&&_.socketEnable){var s={authToken:e.authToken,userId:t.state.userId};t.dispatch("initializeSocket",s)}}}}),$=a("130e"),P={data:function(){return{messagesOffset:0,UserChatOffset:0,isLoading:!1,isScrolling:!1,RecordLimit:Number(window.wpguppy_scripts_vars.showRec),StatusText:window.wpguppy_scripts_vars.friendListStatusText,isSingle:window.wpguppy_scripts_vars.isSingle,errors:"",TRANS:w}},computed:Object(u["c"])({userId:function(t){return"0"==t.userId?"":t.userId},userType:function(t){return t.userType}}),methods:{alertBox:function(t,e,a){this.$swal({icon:t,title:e,text:a,showCloseButton:!0,showConfirmButton:!1})}}},E=a("9aa5"),B=a.n(E),W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-chat",class:{"wpguppy-rtl":t.isRtl}},[a("guppy-chat-sidebar"),a("guppy-chat-messages"),a("sidebar-popup")],1)},V=[],F=(a("3ca3"),a("ddb0"),a("9861"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.isWhatsappChat?"gp-chat_sidebar":"at-chat_sidebar"},[t.isWhatsappChat?a("whatsapp-user-List"):t.userId&&Number(t.userType)?["contacts"==t.activeTab?a("guppy-caht-user-list"):"friends"==t.activeTab?a("guppy-chat-friend-list"):"blocked"==t.activeTab?a("guppy-chat-block-user-list"):"messages"==t.activeTab?a("guppy-chat-private-list"):"customer_support"==t.activeTab?a("customer-support"):"profile"==t.activeTab?a("guppy-chat-profile-setting"):t._e(),a("guppy-chat-sidebar-footer")]:t.userId&&!Number(t.userType)?[a("customer-support"),a("guppy-chat-sidebar-footer")]:t._e()],2)}),q=[],G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeMenu,expression:"closeMenu"}],staticClass:"at-chat_sidebar_footer",on:{mouseover:function(e){return t.toggleOverLay(!0)},mouseleave:function(e){return t.toggleOverLay(!1)}}},[t.isShowButton?a("li",{staticClass:"at-listonrespon"},[a("div",{staticClass:"at-responmenu"},[a("div",{staticClass:"at-responsivelist"},[t.isMessangerChat&&t.isShowButton&&t.isfloatingChat?a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.showWidget()}}},[a("i",{staticClass:"guppy-x"})]):t._e(),a("a",{staticClass:"at-menuicon",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.toogleMenu()}}},[a("i",{staticClass:"guppy-menu"})])]),a("div",{staticClass:"at-imgresponsivearea"},[a("a",{attrs:{href:"javascript:void(0);"}},[a("img",{attrs:{src:t.userProfile.userAvatar?t.userProfile.userAvatar:t.defaultAvatar,alt:t.userProfile.userName}})]),a("div",{staticClass:"at-sidebar-item"},[a("h5",{style:!t.isfloatingChat&&t.windowWidth<=768?"width : 100px":""},[t._v(t._s(t.userProfile.userName))])])])])]):t._e(),t.isShowButton?t._e():a("li",{staticClass:"at-hasimage"},[a("a",{attrs:{href:"javascript:void(0);"}},[a("img",{attrs:{src:t.userProfile.userAvatar?t.userProfile.userAvatar:t.defaultAvatar,alt:t.userProfile.userName}}),t.userProfile.userName?a("div",{staticClass:"at-sidebar-item"},[a("h5",[t._v(t._s(t.userProfile.userName))])]):t._e()])]),t.userId&&Number(t.userType)?[t.enableTabs.includes("contacts")?a("li",{class:{active:"contacts"==t.selectedActiveTab},on:{click:function(e){return e.preventDefault(),t.closeMenu()}}},[a("a",{class:{"at-newnotify":t.requestCount>0},attrs:{href:"javascript:void(0);",id:"at-contacts"},on:{click:function(e){return e.preventDefault(),t.activeTab("contacts")}}},[a("i",{staticClass:"guppy-users"}),a("div",{staticClass:"at-sidebar-item"},[a("h6",[t._v(t._s(t.TRANS.contact_tab_txt))]),t.requestCount>0?a("em",{staticClass:"at-userchat_tab-noti"},[t._v(t._s(t.requestCount>=100?"+99":t.requestCount))]):t._e()])])]):t._e(),t.enableTabs.includes("friends")?a("li",{class:{active:"friends"==t.selectedActiveTab},on:{click:function(e){return e.preventDefault(),t.closeMenu()}}},[a("a",{attrs:{href:"javascript:void(0);",id:"at-friends"},on:{click:function(e){return e.preventDefault(),t.activeTab("friends")}}},[a("i",{staticClass:"guppy-user-check"}),a("div",{staticClass:"at-sidebar-item"},[a("h6",[t._v(t._s(t.TRANS.friend_tab_txt))])])])]):t._e(),t.enableTabs.includes("blocked")?a("li",{class:{active:"blocked"==t.selectedActiveTab},on:{click:function(e){return e.preventDefault(),t.closeMenu()}}},[a("a",{attrs:{href:"javascript:void(0);",id:"at-blocked-users"},on:{click:function(e){return e.preventDefault(),t.activeTab("blocked")}}},[a("i",{staticClass:"guppy-user-x"}),a("div",{staticClass:"at-sidebar-item"},[a("h6",[t._v(t._s(t.TRANS.block_tab_txt))])])])]):t._e(),t.enableTabs.includes("messages")||t.enableTabs.includes("messages")?a("li",{class:{active:"messages"==t.selectedActiveTab},on:{click:function(e){return e.preventDefault(),t.closeMenu()}}},[a("a",{class:{"at-newnotify":t.privateChatCount>0},attrs:{href:"javascript:void(0);",id:"at-messages"},on:{click:function(e){return e.preventDefault(),t.activeTab("messages")}}},[a("i",{staticClass:"guppy-message-square"}),a("div",{staticClass:"at-sidebar-item"},[a("h6",[t._v(t._s(t.TRANS.private_tab_txt))]),t.privateChatCount>0?a("em",{staticClass:"at-userchat_tab-noti"},[t._v(t._s(t.privateChatCount>=100?"+99":t.privateChatCount))]):t._e()])])]):t._e(),t.enableTabs.includes("customer_support")?a("li",{class:{active:"customer_support"==t.selectedActiveTab},on:{click:function(e){return e.preventDefault(),t.closeMenu()}}},[a("a",{class:{"at-newnotify":t.adminSupportChatCount>0},attrs:{href:"javascript:void(0);",id:"at-customer_support"},on:{click:function(e){return e.preventDefault(),t.activeTab("customer_support")}}},[a("guppy-svg-icons",{attrs:{ImageColor:"support",isActive:"customer_support"==t.selectedActiveTab}}),a("div",{staticClass:"at-sidebar-item"},[a("h6",[t._v(t._s(t.TRANS.customer_tab_txt))]),t.adminSupportChatCount>0?a("em",{staticClass:"at-userchat_tab-noti"},[t._v(t._s(t.adminSupportChatCount>=100?"+99":t.adminSupportChatCount))]):t._e()])],1)]):t._e(),a("li",{class:{active:"profile"==t.selectedActiveTab},on:{click:function(e){e.preventDefault(),t.closeMenu(),t.activeTab("profile")}}},[a("a",{attrs:{href:"javascript:void(0);"}},[a("i",{staticClass:"guppy-settings"}),a("div",{staticClass:"at-sidebar-item"},[a("h6",[t._v(t._s(t.TRANS.setting_tab_txt))])])])])]:Number(t.userType)?t._e():[a("li",{staticClass:"active",on:{click:function(e){return e.preventDefault(),t.closeMenu()}}},[a("a",{class:{"at-newnotify":t.adminSupportChatCount>0},attrs:{href:"javascript:void(0);",id:"at-customer_support"},on:{click:function(e){return e.preventDefault(),t.activeTab("customer_support")}}},[a("guppy-svg-icons",{attrs:{ImageColor:"support",isActive:!0}}),a("div",{staticClass:"at-sidebar-item"},[a("h6",[t._v(t._s(t.TRANS.customer_tab_txt))]),t.adminSupportChatCount>0?a("em",{staticClass:"at-userchat_tab-noti"},[t._v(t._s(t.adminSupportChatCount>=100?"+99":t.adminSupportChatCount))]):t._e()])],1)]),t.isfloatingChat?a("li",{on:{click:function(e){return e.preventDefault(),t.closeMenu()}}},[a("a",{attrs:{href:"javascript:void(0);",id:"at-login"},on:{click:function(e){return e.preventDefault(),t.login()}}},[a("i",{staticClass:"guppy-log-in"}),a("div",{staticClass:"at-sidebar-item"},[a("h6",[t._v(t._s(t.TRANS.login_tab_txt))])])])]):t._e()]],2)},H=[],z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:t.imageWidth,height:t.imageHeight,viewBox:t.viewBox,fill:"none",xmlns:"http://www.w3.org/2000/svg"}},["pin"==t.ImageColor?[a("path",{attrs:{d:"M2 1H18V2.42105H2V1Z",fill:t.isActive?t.colorOnActive:t.isEmptyView||t.isEmptyView?t.primaryColor:"#999999"}}),a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1333 7.56011V2.42105H7.86667V7.56011L4.8633 11.8947H15.1367L12.1333 7.56011ZM18 13.3158H2L6.26667 7.1579V1H13.7333V7.1579L18 13.3158Z",fill:t.isActive?t.colorOnActive:t.isEmptyView?t.primaryColor:"#999999"}}),a("path",{attrs:{d:"M9.46667 13.3158H11.0667V18.2895C11.0667 18.6819 10.7085 19 10.2667 19C9.82484 19 9.46667 18.6819 9.46667 18.2895V13.3158Z",fill:t.isActive?t.colorOnActive:t.isEmptyView?t.primaryColor:"#999999"}})]:"group"==t.ImageColor?[a("path",{attrs:{d:"M1.8 19.3002C1.7 19.3002 1.6 19.3002 1.5 19.2002C1.2 19.1002 1 18.8002 1 18.4002V8.2002C1 6.8002 2.1 5.7002 3.5 5.7002H12.2C13.6 5.7002 14.7 6.8002 14.7 8.2002V13.5002C14.7 14.9002 13.6 16.0002 12.2 16.0002H5.5L2.4 19.1002C2.2 19.2002 2 19.3002 1.8 19.3002ZM3.5 7.3002C3 7.3002 2.7 7.70019 2.7 8.10019V16.4002L4.6 14.5002C4.8 14.3002 5 14.3002 5.2 14.3002H12.2C12.7 14.3002 13 13.9002 13 13.5002V8.2002C13 7.7002 12.6 7.4002 12.2 7.4002H3.5V7.3002Z",fill:t.isActive?t.colorOnActive:t.isEmptyView?t.primaryColor:"#999999"}}),a("path",{attrs:{d:"M17.2563 2.44231H5.30005V1H17.2563C18.385 1 19.3 1.86099 19.3 2.92308V11H17.7672V2.92308C17.7672 2.65756 17.5384 2.44231 17.2563 2.44231Z",fill:t.isActive?t.colorOnActive:t.isEmptyView?t.primaryColor:"#999999"}}),a("path",{attrs:{d:"M5.30005 1H6.80005V4H5.30005V1Z",fill:t.isActive?t.colorOnActive:t.isEmptyView?t.primaryColor:"#999999"}}),a("path",{attrs:{d:"M19.3 10V11.5H16.3V10H19.3Z",fill:t.isActive?t.colorOnActive:t.isEmptyView?t.primaryColor:"#999999"}})]:"support"==t.ImageColor?[a("path",{attrs:{d:"M3.24442 19.6949C3.44876 19.7966 3.65309 19.8983 3.85743 19.8983C3.9596 19.8983 4.06177 19.8983 4.16393 20L8.65933 18.4745C9.68102 18.983 10.8049 19.1864 11.9287 19.1864C14.9938 19.1864 17.7523 17.4574 19.1827 14.7115C19.6935 13.6944 20 12.3723 20 11.1519V10.6434C19.8119 6.80542 17.0273 3.7429 13.3189 3.12115H13.2073V4.75464C16.0504 5.31298 18.1795 7.68381 18.3653 10.6434V10.9485C18.3653 11.9655 18.0588 12.8808 17.6501 13.7962C16.5263 16.0336 14.3808 17.3557 11.9287 17.3557C10.907 17.3557 9.98752 17.0506 9.06801 16.6438C8.86367 16.5421 8.65933 16.5421 8.455 16.6438L5.18562 17.7625L6.30947 14.5081C6.41163 14.3047 6.41163 14.1013 6.30947 13.8979C6.1431 13.5998 6.00924 13.3017 5.90436 13.0001H4.08941C4.20302 13.4475 4.36169 13.8847 4.57261 14.3047L3.04008 18.7796C2.93792 19.0847 3.04008 19.4915 3.24442 19.6949Z",fill:t.isActive?t.colorOnActive:t.isEmptyView||t.isEmptyView?t.primaryColor:"#999999"}}),a("path",{attrs:{d:"M7.81299 0.509272C10.4163 1.77033 11.6698 4.77746 10.802 7.49358L15.7042 12.2441L14.5803 13.2476L9.45213 8.26962C9.16287 8.07561 9.16287 7.68759 9.25929 7.39658C10.1271 5.35949 9.25929 2.93438 7.23447 2.06134C6.75238 1.77033 6.17386 1.67332 5.59534 1.67332C5.4025 1.67332 5.30608 1.67332 5.11324 1.77033L7.13806 3.80742C7.71657 4.38944 7.71657 5.45649 7.13806 6.03852L5.8846 7.29957C5.30608 7.9786 4.24547 7.9786 3.76337 7.29957L1.73855 5.26248C1.64214 5.84451 1.73855 6.52354 1.93139 7.10556C2.31707 8.07561 3.08843 8.85164 4.05263 9.33666C5.11324 9.82168 6.27028 9.82168 7.33089 9.33666C7.62015 9.23966 8.00583 9.33666 8.19867 9.53067L13.2577 14.4389L12 15.5L7.52373 11.1797C6.17386 11.6648 4.63114 11.5678 3.37769 10.9857C1.93139 10.3067 0.967197 9.23966 0.388679 7.78459C-0.18984 6.32953 -0.0934202 4.77746 0.485098 3.4194C0.581517 3.12839 0.774357 2.93438 1.06362 2.93438C1.25646 2.83738 1.54572 2.93438 1.73855 3.12839L4.72756 6.13552L5.98102 4.87447L2.99201 1.86733C2.79917 1.67332 2.79917 1.47932 2.79917 1.1883C2.79917 0.89729 2.99201 0.703281 3.18485 0.509273C4.63114 -0.169757 6.3667 -0.169758 7.81299 0.509272Z",fill:t.isActive?t.colorOnActive:t.isEmptyView||t.isEmptyView?t.primaryColor:"#999999"}})]:a("path",{attrs:{d:t.imagePath,fill:t.fill}})],2)},Q=[],Z={name:"GuppySvgIcons",props:{ImageColor:{type:String,default:"#25D366",required:!1},isActive:{type:Boolean,default:!1,required:!1},isEmptyView:{type:Boolean,default:!1,required:!1},activeColor:{type:String,default:"",required:!1}},data:function(){return{primaryColor:_.primaryColor,secondaryColor:_.secondaryColor}},computed:{fill:function(){return"white"==this.ImageColor||"lightGreen"==this.ImageColor?"white":"#25D366"},imageWidth:function(){return this.isEmptyView?!this.$store.state.isfloatingChat&&this.$store.state.windowWidth>768?52:32:"white"==this.ImageColor?44:"lightGreen"==this.ImageColor?47:(this.ImageColor,20)},imageHeight:function(){return this.isEmptyView?!this.$store.state.isfloatingChat&&this.$store.state.windowWidth>768?52:32:"white"==this.ImageColor?44:"lightGreen"==this.ImageColor?60:(this.ImageColor,20)},viewBox:function(){return"white"==this.ImageColor?"0 0 44 44":"lightGreen"==this.ImageColor?"0 0 47 60":(this.ImageColor,"0 0 20 20")},imagePath:function(){var t="M17.0045 2.90625C15.1339 1.03125 12.6429 0 9.99554 0C4.53125 0 0.0848214 4.44643 0.0848214 9.91071C0.0848214 11.6562 0.540179 13.3616 1.40625 14.8661L0 20L5.25446 18.6205C6.70089 19.4107 8.33036 19.8259 9.99107 19.8259H9.99554C15.4554 19.8259 20 15.3795 20 9.91518C20 7.26786 18.875 4.78125 17.0045 2.90625ZM9.99554 18.1563C8.51339 18.1563 7.0625 17.7589 5.79911 17.0089L5.5 16.8304L2.38393 17.6473L3.21429 14.6071L3.01786 14.2946C2.19196 12.9821 1.75893 11.4688 1.75893 9.91071C1.75893 5.37054 5.45536 1.67411 10 1.67411C12.2009 1.67411 14.2679 2.53125 15.8214 4.08929C17.375 5.64732 18.3304 7.71429 18.3259 9.91518C18.3259 14.4598 14.5357 18.1563 9.99554 18.1563ZM14.5134 11.9866C14.2679 11.8616 13.0491 11.2634 12.8214 11.183C12.5938 11.0982 12.4286 11.058 12.2634 11.308C12.0982 11.558 11.625 12.1116 11.4777 12.2813C11.3348 12.4464 11.1875 12.4688 10.942 12.3438C9.48661 11.6161 8.53125 11.0446 7.57143 9.39732C7.31696 8.95982 7.82589 8.99107 8.29911 8.04464C8.37946 7.87946 8.33929 7.73661 8.27679 7.61161C8.21429 7.48661 7.71875 6.26786 7.51339 5.77232C7.3125 5.29018 7.10714 5.35714 6.95536 5.34821C6.8125 5.33929 6.64732 5.33929 6.48214 5.33929C6.31696 5.33929 6.04911 5.40179 5.82143 5.64732C5.59375 5.89732 4.95536 6.49554 4.95536 7.71429C4.95536 8.93304 5.84375 10.1116 5.96429 10.2768C6.08929 10.442 7.70982 12.942 10.1964 14.0179C11.7679 14.6964 12.3839 14.7545 13.1696 14.6384C13.6473 14.567 14.6339 14.0402 14.8393 13.4598C15.0446 12.8795 15.0446 12.3839 14.9821 12.2813C14.9241 12.1696 14.7589 12.1071 14.5134 11.9866Z";return"white"==this.ImageColor?t="M37.4098 6.39375C33.2946 2.26875 27.8143 0 21.9902 0C9.96875 0 0.186607 9.78214 0.186607 21.8036C0.186607 25.6437 1.18839 29.3955 3.09375 32.7054L0 44L11.5598 40.9652C14.742 42.7036 18.3268 43.617 21.9804 43.617H21.9902C34.0018 43.617 44 33.8348 44 21.8134C44 15.9893 41.525 10.5187 37.4098 6.39375ZM21.9902 39.9437C18.7295 39.9437 15.5375 39.0696 12.758 37.4196L12.1 37.0268L5.24464 38.8241L7.07143 32.1357L6.63929 31.4482C4.82232 28.5607 3.86964 25.2312 3.86964 21.8036C3.86964 11.8152 12.0018 3.68304 22 3.68304C26.842 3.68304 31.3893 5.56875 34.8071 8.99643C38.225 12.4241 40.3268 16.9714 40.317 21.8134C40.317 31.8116 31.9786 39.9437 21.9902 39.9437ZM31.9295 26.3705C31.3893 26.0955 28.708 24.7795 28.2071 24.6027C27.7063 24.4161 27.3429 24.3277 26.9795 24.8777C26.6161 25.4277 25.575 26.6455 25.2509 27.0187C24.9366 27.3821 24.6125 27.4312 24.0723 27.1562C20.8705 25.5554 18.7688 24.2982 16.6571 20.6741C16.0973 19.7116 17.217 19.7804 18.258 17.6982C18.4348 17.3348 18.3464 17.0205 18.2089 16.7455C18.0714 16.4705 16.9813 13.7893 16.5295 12.6991C16.0875 11.6384 15.6357 11.7857 15.3018 11.7661C14.9875 11.7464 14.6241 11.7464 14.2607 11.7464C13.8973 11.7464 13.308 11.8839 12.8071 12.4241C12.3062 12.9741 10.9018 14.2902 10.9018 16.9714C10.9018 19.6527 12.8563 22.2455 13.1214 22.6089C13.3964 22.9723 16.9616 28.4723 22.4321 30.8393C25.8893 32.3321 27.2446 32.4598 28.9732 32.2045C30.0241 32.0473 32.1946 30.8884 32.6464 29.6116C33.0982 28.3348 33.0982 27.2446 32.9607 27.0187C32.833 26.7732 32.4696 26.6357 31.9295 26.3705Z":"lightGreen"==this.ImageColor&&(t="M38.0134 8.71875C32.4018 3.09375 24.9286 0 16.9866 0C0.593748 0 -12.7455 13.3393 -12.7455 29.7321C-12.7455 34.9688 -11.3795 40.0848 -8.78125 44.5982L-13 60L2.76339 55.8616C7.10268 58.2321 11.9911 59.4777 16.9732 59.4777H16.9866C33.3661 59.4777 47 46.1384 47 29.7455C47 21.8036 43.625 14.3437 38.0134 8.71875ZM16.9866 54.4688C12.5402 54.4688 8.1875 53.2768 4.39732 51.0268L3.5 50.4911L-5.84821 52.942L-3.35714 43.8214L-3.94643 42.8839C-6.42411 38.9464 -7.72321 34.4062 -7.72321 29.7321C-7.72321 16.1116 3.36607 5.02232 17 5.02232C23.6027 5.02232 29.8036 7.59375 34.4643 12.2679C39.125 16.942 41.9911 23.1429 41.9777 29.7455C41.9777 43.3795 30.6071 54.4688 16.9866 54.4688ZM30.5402 35.9598C29.8036 35.5848 26.1473 33.7902 25.4643 33.5491C24.7812 33.2946 24.2857 33.1741 23.7902 33.9241C23.2946 34.6741 21.875 36.3348 21.433 36.8438C21.0045 37.3393 20.5625 37.4062 19.8259 37.0312C15.4598 34.8482 12.5938 33.1339 9.71428 28.192C8.95089 26.8795 10.4777 26.9732 11.8973 24.1339C12.1384 23.6384 12.0179 23.2098 11.8304 22.8348C11.6429 22.4598 10.1562 18.8036 9.54018 17.317C8.9375 15.8705 8.32143 16.0714 7.86607 16.0446C7.4375 16.0179 6.94196 16.0179 6.44643 16.0179C5.95089 16.0179 5.14732 16.2054 4.46428 16.942C3.78125 17.692 1.86607 19.4866 1.86607 23.1429C1.86607 26.7991 4.53125 30.3348 4.89286 30.8304C5.26786 31.3259 10.1295 38.8259 17.5893 42.0536C22.3036 44.0893 24.1518 44.2634 26.5089 43.9152C27.942 43.7009 30.9018 42.1205 31.5179 40.3795C32.1339 38.6384 32.1339 37.1518 31.9464 36.8438C31.7723 36.5089 31.2768 36.3214 30.5402 35.9598Z"),t},colorOnActive:function(){return this.activeColor?this.activeColor:this.secondaryColor}}},Y=Z,J=a("2877"),X=Object(J["a"])(Y,z,Q,!1,null,null,null),K=X.exports,tt={components:{GuppySvgIcons:K},name:"GuppyChatSidebarFooter",data:function(){return{isMobileDevice:_.isMobileDevice,defaultAvatar:I.AVATAR,toggleMenue:!1}},computed:Object(u["c"])({privateChatCount:function(t){return t.privateChatCount},userProfile:function(t){return t.userProfile},requestCount:function(t){return t.requestCount},adminSupportChatCount:function(t){return t.adminSupportChatCount},selectedActiveTab:function(t){return t.activeTab},enableTabs:function(){return _?_.enabledTabs:[]},defaultActiveTab:function(){return _?_.defaultActiveTab:""},isMessangerChat:function(t){return t.isMessangerChat},isfloatingChat:function(t){return t.isfloatingChat},windowWidth:function(t){return t.windowWidth},isShowButton:function(t){return t.windowWidth<=768}}),methods:{login:function(){this.$root.$emit("toggleSignInWindow",!0),this.isfloatingChat&&this.windowWidth<768&&this.$root.$emit("showWidget")},toogleMenu:function(){this.toggleMenue=!this.toggleMenue;var t=".at-chat_sidebar_footer",e="at-sidebarshow";this.toggleMenue?h()(t).addClass(e):h()(t).removeClass(e),this.toggleOverLay(this.toggleMenue,!0)},closeMenu:function(){h()(".at-chat_sidebar_footer").removeClass("at-sidebarshow"),h()(".at-chat_sidebar").removeClass("at-ovelay"),this.toggleMenue=!1},toggleOverLay:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.windowWidth>=768||e){var a=".at-chat_sidebar",s="at-ovelay",i=this.isfloatingChat?"60px":"70px";t?(h()("ul.at-chat_sidebar_footer").css("width","270px"),h()(a).addClass(s)):(h()("ul.at-chat_sidebar_footer").css("width",i),h()(a).removeClass(s))}},activeTab:function(t){this.$store.commit("selectTab",t)},showWidget:function(){this.$root.$emit("showWidget")}}},et=tt,at=(a("d83b"),Object(J["a"])(et,G,H,!1,null,"6d25bf73",null)),st=at.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-userlist_tab",attrs:{id:"friendlist"}},[a("div",{staticClass:"at-sidebarhead_search at-sidebarhead_searchv2"},[a("div",{staticClass:"at-form-group"},[a("i",{staticClass:"guppy-search"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"at-form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){return t.searchBlockUser()}]}})])]),Object.keys(t.blockList).length?a("ul",{staticClass:"conversation-list",on:{scroll:function(e){return e.preventDefault(),t.blockListScrollHandler(e)}}},[t._l(t.blockList,(function(e){return a("li",{key:e.chatId+Math.floor(1e4*Math.random()),staticClass:"at-userbar"},[a("figure",{staticClass:"at-userbar_profile at-blockuser"},[a("i",{staticClass:"guppy-slash"}),a("img",{attrs:{src:e.userAvatar,alt:e.userName}})]),e.userName?a("div",{staticClass:"at-userbar_title"},[a("h3",[t._v(t._s(t._f("capitalize")(e.userName)))])]):t._e(),a("div",{staticClass:"at-userbar_right"},[a("a",{staticClass:"at-btn-blocked",class:{"at-disable-btn":t.activeUser=="block_user_"+e.chatId},attrs:{href:"javascript:void(0);",id:"block_user_"+e.chatId},on:{click:function(a){return a.preventDefault(),t.unblockUser(e.chatId,"block_user_"+e.chatId)}}},[t._v(" "+t._s(t.TRANS.unblock))])])])})),t.isLoading?a("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?a("guppy-chat-loader"):a("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-user-x"}})]],2)},rt=[],nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-empty-conversation"},[t.svgIcon?a("guppy-svg-icons",{attrs:{isEmptyView:!0,ImageColor:t.listIcon}}):a("i",{class:t.listIcon}),t.isSidebarProps?a("span",[t._v(t._s(t.TRANS.no_results))]):a("span",[t._v(t._s(t.TRANS.admin_start_conversation))])],1)},ot=[],ct={name:"EmptyView",props:{isSidebarProps:{type:Boolean,default:!1,required:!1},listIcon:{type:String,default:"",required:!1},svgIcon:{type:Boolean,default:!1,required:!1}},components:{GuppySvgIcons:K}},ut=ct,lt=(a("879f"),Object(J["a"])(ut,nt,ot,!1,null,null,null)),pt=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-empty-conversation"},[t._m(0),a("span",[t._v(t._s(t.TRANS.search_results))])])},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-chatloader"},[a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span")])}],ft={name:"GuppyChatLoader"},gt=ft,mt=(a("91a7"),Object(J["a"])(gt,dt,ht,!1,null,null,null)),vt=mt.exports,Ct=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"at-userbar_loader at-inner-loaader"},[a("span",[a("i",{staticClass:"at-spinericon"})])])}],yt={name:"GuppyChatInnerLoader"},It=yt,_t=(a("b74a"),Object(J["a"])(It,Ct,bt,!1,null,null,null)),St=_t.exports,wt={name:"GuppyChatBlockUserList",components:{GuppyChatEmptyView:pt,GuppyChatLoader:vt,GuppyChatInnerLoader:St},data:function(){return{search:"",userStatus:3,activeUser:"",timer:null}},computed:Object(u["c"])({blockList:function(t){return t.blockList},blockListFlag:function(t){return t.blockListFlag},blockListOffset:function(t){return t.blockListOffset},noMoreBlockUsers:function(t){return t.noMoreBlockUsers},blockUserSearch:function(t){return t.blockUserSearch}}),methods:{searchBlockUser:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreBlockUsers",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"blockListOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"blockUserSearch",searchValue:t.search}),t.getBlockUser(),t.updateOffset()}),800)},getBlockUser:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreBlockUsers){e.next=7;break}return t.isLoading=!0,e.next=4,N.getContactList(t.blockListOffset,t.userStatus,t.search);case 4:a=e.sent,t.isLoading=!1,"success"==a.data.type?(s=0==Object.keys(a.data.contacts).length,t.$store.commit("updateRecordList",{RecordList:"noMoreBlockUsers",RecordListValue:s}),t.blockListFlag||t.$store.commit("updateListFlag",{flag:"blockListFlag",flagValue:!0}),t.updateListRecord(a.data.contacts)):"error"==a.data.type&&t.alertBox("error",t.TRANS.error_title,a.data.message_desc);case 7:case"end":return e.stop()}}),e)})))()},updateOffset:function(){var t=this.blockListOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"blockListOffset",offsetValue:t})},unblockUser:function(t,e){var a=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){var i,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i={statusType:4,actionTo:t,userId:a.userId},a.activeUser=e,s.next=4,k.updateUserStatus(i);case 4:r=s.sent,"success"==r.data.type?(n=r.data.userData,n["statusText"]="invite",a.$store.commit("UpdateSelectUserStatus",n)):"error"==r.data.type&&a.alertBox("error",a.TRANS.error_title,r.data.message_desc),a.activeUser="";case 7:case"end":return s.stop()}}),s)})))()},blockListScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop>=t.target.scrollHeight&&(this.isScrolling=!0,this.getBlockUser(),this.updateOffset())},updateListRecord:function(t){var e={list:t,listType:"blockList",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)}},created:function(){Object.keys(this.blockList).length&&this.blockListFlag||(this.getBlockUser(),this.updateOffset())},mounted:function(){this.search=this.blockUserSearch}},Tt=wt,Lt=(a("5e1b"),Object(J["a"])(Tt,it,rt,!1,null,null,null)),Mt=Lt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-sidbarwrapper at-userlist_tab at-contacts_list"},[a("div",{staticClass:"at-userchat_tab"},[a("a",{class:{"at-tabactive":"contacts"==t.selectedTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.selectedTab="contacts"}}},[a("i",{staticClass:"guppy-user"}),a("span",[t._v(" "+t._s(t.TRANS.contacts)+" ")])]),a("a",{class:{"at-tabactive":"requests"==t.selectedTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.selectedTab="requests"}}},[a("i",{staticClass:"guppy-user-plus"}),a("span",[t._v(" "+t._s(t.TRANS.requests_heading)+" ")]),t.requestCount?a("em",{staticClass:"at-userchat_tab-noti"},[t._v(t._s(t.requestCount>99?"+99":t.requestCount))]):t._e()])]),"contacts"==t.selectedTab?[a("contact-list")]:"requests"==t.selectedTab?[a("requests-list")]:t._e()],2)},At=[],Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-userlist_tab active",attrs:{id:"userlist"}},[a("div",{staticClass:"at-sidebarhead_search at-sidebarhead_searchv2"},[a("div",{staticClass:"at-form-group"},[a("i",{staticClass:"guppy-search"}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value.trim())},function(e){return t.searchUser()}],blur:function(e){return t.$forceUpdate()}}})])]),Object.keys(t.contactList).length?a("ul",{staticClass:"user-list",on:{scroll:function(e){return e.preventDefault(),t.userScrollHandler(e)}}},[t._l(t.contactList,(function(t){return a("guppy-chat-user-list-item",{key:t.chatId,attrs:{userProps:t,tab:"contacts"}})})),t.isLoading?a("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?a("guppy-chat-loader"):a("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-users"}})]],2)},jt=[],xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"at-userbar",attrs:{id:t.userProps.chatId+"_"+Math.floor(99999999*Math.random())}},[a("figure",{staticClass:"at-userbar_profile"},[a("span",{staticClass:"at-userstatus",class:t.userProps.isOnline?"online":"offline"}),a("img",{attrs:{src:t.userProps.userAvatar?t.userProps.userAvatar:t.defaultAvatar,alt:t.userProps.userName}})]),t.userProps.userName?a("div",{staticClass:"at-userbar_title"},[a("h3",[t._v(t._s(t._f("capitalize")(t.userProps.userName)))])]):t._e(),a("div",{staticClass:"at-userbar_right"},["contacts"==t.tab&&t.autoInvite?a("a",{staticClass:"at-btn-sm at-linebtn",class:{"at-disable-btn":t.isLoading},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.updateUserStatus(1)}}},[t._v(" "+t._s(t.TRANS.start_chat_txt)+" ")]):a("a",{staticClass:"at-btn-sm",class:t.isLoading?"at-disable-btn":"sent"==t.userProps.statusText?"at-sendbtn":"respond"==t.userProps.statusText?"":"resend"==t.userProps.statusText?"at-btn-resend":"invite"==t.userProps.statusText?"at-btn-link":"",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.updateUserStatus(0)}}},[t._v(" "+t._s(t.StatusText[t.userProps.statusText])+" "),"invite"==t.userProps.statusText?a("i",{staticClass:"guppy-plus"}):"sent"==t.userProps.statusText?a("i",{staticClass:"guppy-check"}):t._e(),"resend"==t.userProps.statusText?a("span",{staticClass:"at-infotolltip"},[a("i",{staticClass:"guppy-info"}),a("em",[t._v(t._s(t.TRANS.decline_user))])]):t._e()])])])},Nt=[],Rt={name:"GuppyChatUserListItem",props:["userProps","tab"],data:function(){return{defaultAvatar:I.AVATAR,isDisabled:!1,userStatusClass:"",oldVal:""}},computed:Object(c["a"])({},Object(u["c"])({autoInvite:function(t){return t.autoInvite},isMessangerChat:function(t){return t.isMessangerChat}})),methods:{updateUserStatus:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("respond"!=e.userProps.statusText||t){a.next=5;break}e.$store.dispatch("userResponse",e.userProps),e.isMessangerChat||e.$root.$emit("openPopUp",{type:"acceptInvite"}),a.next=11;break;case 5:return s={sendTo:e.userProps.chatId.split("_")[0],userId:e.userId,startChat:t},e.isLoading=!0,a.next=9,k.sendGuppyInvite(s);case 9:i=a.sent,i&&(e.isLoading=!1,"success"==i.data.type?(r=i.data.friendData,r.chatId in e.$store.state.requestList&&e.$store.commit("deleteRecord",{recordList:"requestList",key:r.chatId}),i.data.autoInvite&&(_.pusherEnable||_.socketEnable?t&&e.$store.commit("removeContactListItem",{chatId:e.userProps.chatId}):e.$store.commit("startChat",{friendData:i.data.friendData,messagelistData:i.data.messagelistData})),e.userProps.statusText="sent",e.userStatusClass="at-disabled",e.isDisabled=!0):"error"==i.data.type&&e.alertBox("error",e.TRANS.error_title,i.data.message_desc));case 11:case"end":return a.stop()}}),a)})))()}}},Ut=Rt,Dt=(a("f59b"),Object(J["a"])(Ut,xt,Nt,!1,null,null,null)),$t=Dt.exports,Pt={name:"GuppyChatContactList",components:{GuppyChatUserListItem:$t,GuppyChatLoader:vt,GuppyChatInnerLoader:St,GuppyChatEmptyView:pt},data:function(){return{search:"",inviteResonseData:"",timer:null,scrolledToBottom:!1,selectedTab:"contacts"}},computed:Object(u["c"])({contactList:function(t){return t.contactList},contactListFlag:function(t){return t.contactListFlag},contactListOffset:function(t){return t.contactListOffset},noMoreContactUsers:function(t){return t.noMoreContactUsers},contactUserSearch:function(t){return t.contactUserSearch}}),methods:{searchUser:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreContactUsers",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"contactListOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"contactUserSearch",searchValue:t.search}),t.getUsers(),t.updateOffset()}),800)},updateOffset:function(){var t=this.contactListOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"contactListOffset",offsetValue:t})},getUsers:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreContactUsers){e.next=7;break}return t.isLoading=!0,e.next=4,N.getUsersList(t.contactListOffset,t.search);case 4:a=e.sent,t.isLoading=!1,"success"==a.data.type?(s=0==Object.keys(a.data.guppyUsers).length,t.$store.state.autoInvite=a.data.autoInvite,t.$store.commit("updateRecordList",{RecordList:"noMoreContactUsers",RecordListValue:s}),t.contactListFlag||t.$store.commit("updateListFlag",{flag:"contactListFlag",flagValue:!0}),t.updateListRecord(a.data.guppyUsers)):"error"==a.data.type&&t.alertBox("error",t.TRANS.error_title,a.data.message_desc);case 7:case"end":return e.stop()}}),e)})))()},userScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop>=t.target.scrollHeight-20&&(this.isScrolling=!0,this.getUsers(),this.updateOffset())},updateListRecord:function(t){var e={list:t,listType:"contactList",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)}},mounted:function(){this.search=this.contactUserSearch},created:function(){this.contactListFlag&&Object.keys(this.contactList).length||(this.getUsers(),this.updateOffset())}},Et=Pt,Bt=Object(J["a"])(Et,Ot,jt,!1,null,null,null),Wt=Bt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-userlist_tab active",attrs:{id:"userlist"}},[a("div",{staticClass:"at-sidebarhead_search at-sidebarhead_searchv2"},[a("div",{staticClass:"at-form-group"},[a("i",{staticClass:"guppy-search"}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value.trim())},function(e){return t.searchUser()}],blur:function(e){return t.$forceUpdate()}}})])]),Object.keys(t.requestList).length?a("ul",{staticClass:"user-list",on:{scroll:function(e){return e.preventDefault(),t.userScrollHandler(e)}}},[t._l(Object.values(t.requestList),(function(t){return a("guppy-chat-user-list-item",{key:t.chatId,attrs:{userProps:t,tab:"requests"}})})),t.isLoading?a("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?a("guppy-chat-loader"):a("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-users"}})]],2)},Ft=[],qt={name:"GuppyChatRequestList",components:{GuppyChatUserListItem:$t,GuppyChatLoader:vt,GuppyChatInnerLoader:St,GuppyChatEmptyView:pt},data:function(){return{search:"",inviteResonseData:"",timer:null,scrolledToBottom:!1,selectedTab:"contacts"}},computed:Object(u["c"])({requestList:function(t){return t.requestList},requestListFlag:function(t){return t.requestListFlag},requestListOffset:function(t){return t.requestListOffset},noMoreRequesttUsers:function(t){return t.noMoreRequesttUsers},requestUserSearch:function(t){return t.requestUserSearch}}),methods:{searchUser:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreRequesttUsers",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"requestListOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"requestUserSearch",searchValue:t.search}),t.getUsers(),t.updateOffset()}),800)},updateOffset:function(){var t=this.requestListOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"requestListOffset",offsetValue:t})},getUsers:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreRequesttUsers){e.next=7;break}return t.isLoading=!0,e.next=4,N.getFriendRequestsList(t.requestListOffset,t.search);case 4:a=e.sent,t.isLoading=!1,"success"==a.data.type?(s=0==Object.keys(a.data.guppyFriendRequests).length,t.$store.commit("updateRecordList",{RecordList:"noMoreRequesttUsers",RecordListValue:s}),t.requestListFlag||t.$store.commit("updateListFlag",{flag:"requestListFlag",flagValue:!0}),t.updateListRecord(a.data.guppyFriendRequests)):"error"==a.data.type&&t.alertBox("error",t.TRANS.error_title,a.data.message_desc);case 7:case"end":return e.stop()}}),e)})))()},userScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop+1>=t.target.scrollHeight&&(this.isScrolling=!0,this.getUsers(),this.updateOffset())},updateListRecord:function(t){var e={list:t,listType:"requestList",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)}},mounted:function(){this.search=this.requestUserSearch},created:function(){this.requestListFlag&&Object.keys(this.requestList).length||(this.getUsers(),this.updateOffset())}},Gt=qt,Ht=Object(J["a"])(Gt,Vt,Ft,!1,null,null,null),zt=Ht.exports,Qt={name:"GuppyChatUserList",components:{ContactList:Wt,RequestsList:zt},data:function(){return{search:"",inviteResonseData:"",timer:null,scrolledToBottom:!1,selectedTab:"contacts"}},computed:Object(u["c"])({requestCount:function(t){return t.requestCount},autoInvite:function(t){return t.autoInvite}})},Zt=Qt,Yt=(a("e6d0"),Object(J["a"])(Zt,kt,At,!1,null,null,null)),Jt=Yt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-userlist_tab",attrs:{id:"friendlist"}},[a("div",{staticClass:"at-sidebarhead_search at-sidebarhead_searchv2"},[a("div",{staticClass:"at-form-group"},[a("i",{staticClass:"guppy-search"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"at-form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){return t.searchFriends()}]}})])]),Object.keys(t.friendList).length?a("ul",{staticClass:"conversation-list",on:{scroll:function(e){return e.preventDefault(),t.friendListScrollHandler(e)}}},[t._l(t.friendList,(function(e,s){return a("li",{key:s,staticClass:"at-userbar",class:{active:e.chatId==t.chatInfo.chatId},on:{click:function(a){return a.preventDefault(),t.openConversation(e)}}},[a("figure",{staticClass:"at-userbar_profile"},[a("span",{staticClass:"at-userstatus",class:e.isOnline?"online":"offline"}),a("img",{attrs:{src:e.userAvatar?e.userAvatar:t.defaultAvatar,alt:e.userName}})]),e.userName?a("div",{staticClass:"at-userbar_title"},[a("h3",[t._v(t._s(t._f("capitalize")(e.userName)))])]):t._e()])})),t.isLoading?a("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?a("guppy-chat-loader"):a("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-user-plus"}})]],2)},Kt=[],te={name:"GuppyChatFriendList",props:["TabProps"],components:{GuppyChatEmptyView:pt,GuppyChatLoader:vt,GuppyChatInnerLoader:St},data:function(){return{defaultAvatar:I.AVATAR,search:"",userStatus:1,timer:null}},computed:Object(u["c"])({friendList:function(t){return t.friendList},friendListFlag:function(t){return t.friendListFlag},friendListOffset:function(t){return t.friendListOffset},noMoreFriendUsers:function(t){return t.noMoreFriendUsers},friendUserSearch:function(t){return t.friendUserSearch},chatInfo:function(t){return t.chatInfo},userProfile:function(t){return t.userProfile}}),methods:{searchFriends:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreFriendUsers",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"friendListOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"friendUserSearch",searchValue:t.search}),t.getFriends(),t.updateOffset()}),800)},getFriends:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreFriendUsers){e.next=7;break}return t.isLoading=!0,e.next=4,N.getContactList(t.friendListOffset,t.userStatus,t.search);case 4:a=e.sent,t.isLoading=!1,"success"==a.data.type?(s=0==Object.keys(a.data.contacts).length,t.$store.commit("updateRecordList",{RecordList:"noMoreFriendUsers",RecordListValue:s}),t.friendListFlag||t.$store.commit("updateListFlag",{flag:"friendListFlag",flagValue:!0}),t.updateListRecord(a.data.contacts)):"error"==a.data.type&&t.alertBox("error",t.TRANS.error_title,a.data.message_desc);case 7:case"end":return e.stop()}}),e)})))()},updateOffset:function(){var t=this.friendListOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"friendListOffset",offsetValue:t})},friendListScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop>=t.target.scrollHeight&&(this.isScrolling=!0,this.getFriends(),this.updateOffset())},openConversation:function(t){if(t["chatType"]=1,this.chatInfo&&Number(this.chatInfo.chatId)!=Number(t.chatId)){var e={userName:this.userProfile.userName,chatType:this.chatInfo.chatType,chatId:this.chatInfo.chatId,senderId:t.chatId,text:""};this.$store.dispatch("triggerclientEvents",{event:"isTyping",payload:e})}if(t.UnreadCount>0){var a={chatId:t.chatId,userId:this.userId,userType:this.userType,chatType:t.chatType};k.updateSeenMessagesCounter(a)}this.$store.commit("updateChatInfo",{data:t,userClick:!0})},updateListRecord:function(t){var e={list:t,listType:"friendList",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)}},created:function(){Object.keys(this.friendList).length&&this.friendListFlag||(this.getFriends(),this.updateOffset())},mounted:function(){this.search=this.friendUserSearch}},ee=te,ae=Object(J["a"])(ee,Xt,Kt,!1,null,null,null),se=ae.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-sidbarwrapper at-userlist_tab",class:t.isSupportMember?"at-contacts_list at-support-messages":"at-support-agents"},[t.isSupportMember?t._e():a("div",{staticClass:"at-userchat_tab"},[a("a",{class:{"at-tabactive":"agents"==t.selectedTab},attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.selectedTab="agents"}}},[a("i",{staticClass:"guppy-users"}),a("span",[t._v(" "+t._s(t.TRANS.admin_support_agent_tab)+" ")])]),a("a",{class:{"at-tabactive":"messages"==t.selectedTab,"at-newnotify":t.adminSupportChatCount>0},attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.selectedTab="messages"}}},[a("guppy-svg-icons",{attrs:{ImageColor:"group",isActive:"messages"==t.selectedTab,activeColor:"#0A0F26"}}),a("span",[t._v(" "+t._s(t.TRANS.admin_support_msgs_tab)+" ")])],1)]),t.isSupportMember?[a("chat-list")]:["agents"==t.selectedTab?[a("user-list")]:"messages"==t.selectedTab?[a("chat-list")]:t._e()]],2)},re=[],ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-userlist_tab at-userlist_tabv2",attrs:{id:"at-admin-support-list"}},[a("div",{staticClass:"at-sidebarhead_search at-sidebarhead_searchv2"},[a("div",{staticClass:"at-form-group"},[a("i",{staticClass:"guppy-search"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"at-form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){return t.searchAdminUser()}]}})])]),Object.keys(t.adminSupportUserList).length?a("ul",{staticClass:"conversation-list",on:{scroll:function(e){return e.preventDefault(),t.customerListScrollHandler(e)}}},[t._l(t.adminSupportUserList,(function(e,s){return a("li",{key:s+"_"+Math.floor(99999999*Math.random()),staticClass:"at-userbar",on:{click:function(a){return a.preventDefault(),t.openConversation(e)}}},[a("figure",{staticClass:"at-userbar_profile"},[a("span",{staticClass:"at-userstatus",class:e.isOnline&&1==t.userType?"online":"offline"}),a("img",{attrs:{src:e.userAvatar?e.userAvatar:t.defaultAvatar,alt:e.userName}})]),e.userName?a("div",{staticClass:"at-userbar_title at-userbar_title-v2"},[e.userName?a("h3",[t._v(t._s(t._f("capitalize")(e.userName)))]):t._e(),a("div",{staticClass:"at-userbar_right"},[a("a",{staticClass:"at-btn-sm at-linebtn",attrs:{href:"javascript:void(0);"}},[t._v(" "+t._s(t.TRANS.start_chat_txt)+" ")])])]):t._e()])})),t.isLoading?a("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?a("guppy-chat-loader"):a("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-users"}})]],2)},oe=[],ce={name:"CustomerSupportUserList",components:{GuppyChatEmptyView:pt,GuppyChatLoader:vt,GuppyChatInnerLoader:St},data:function(){return{defaultAvatar:I.AVATAR,search:"",timer:null,userChatId:""}},computed:Object(c["a"])({chatInfo:function(){return this.$store.getters.getChatInfo(this.userChatId)}},Object(u["c"])({adminSupportUserList:function(t){return t.adminSupportUserList},adminSupportUserListFlag:function(t){return t.adminSupportUserListFlag},adminSupportUserListOffset:function(t){return t.adminSupportUserListOffset},noMoreAdminSupportUsers:function(t){return t.noMoreAdminSupportUsers},adminSupportUserSearch:function(t){return t.adminSupportUserSearch},userProfile:function(t){return t.userProfile}})),methods:{getMessageTime:function(t){return k.getLongDateTime(t)},searchAdminUser:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreAdminSupportUsers",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"adminSupportUserListOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"adminSupportUserSearch",searchValue:t.search}),t.getAdminSupportUser(),t.updateOffset()}),800)},getAdminSupportUser:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreAdminSupportUsers){e.next=7;break}return t.isLoading=!0,e.next=4,N.getAdminSupportUserList(t.adminSupportUserListOffset,t.search);case 4:a=e.sent,t.isLoading=!1,"success"==a.data.type?(s=0==Object.keys(a.data.supportUsers).length,t.$store.commit("updateRecordList",{RecordList:"noMoreAdminSupportUsers",RecordListValue:s}),t.adminSupportUserListFlag||t.$store.commit("updateListFlag",{flag:"adminSupportUserListFlag",flagValue:!0}),t.updateListRecord(a.data.supportUsers)):"error"==a.data.type&&t.alertBox("error",t.TRANS.error_title,a.data.message_desc);case 7:case"end":return e.stop()}}),e)})))()},updateOffset:function(){var t=this.adminSupportUserListOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"adminSupportUserListOffset",offsetValue:t})},customerListScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop>=t.target.scrollHeight&&(this.isScrolling=!0,this.getAdminSupportUser(),this.updateOffset())},openConversation:function(t){Number(this.userId)||this.$root.$emit("toggleSignInWindow",!1),this.openChat(t)},openChat:function(t){if(t.UnreadCount>0){var e={chatId:t.chatId,userId:this.userId,userType:this.userType,chatType:t.chatType};k.updateSeenMessagesCounter(e)}if(this.userChatId=t.chatId,Object.keys(this.chatInfo).length&&this.chatInfo.chatId!=t.chatId){var a={userName:this.userProfile.userName,chatType:this.chatInfo.chatType,chatId:this.chatInfo.chatId,senderId:t.chatId,userType:this.userType,text:""};this.$store.dispatch("triggerclientEvents",{event:"isTyping",payload:a})}this.$store.commit("updateChatInfo",{data:t,userClick:!0})},updateListRecord:function(t){var e={list:t,listType:"adminSupportUserList",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)}},created:function(){Object.keys(this.adminSupportUserList).length&&this.adminSupportUserListFlag||(this.getAdminSupportUser(),this.updateOffset())},mounted:function(){this.search=this.adminSupportUserSearch}},ue=ce,le=Object(J["a"])(ue,ne,oe,!1,null,null,null),pe=le.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-userlist_tab at-userlist_tabv2",attrs:{id:"at-admin-support-list"}},[a("div",{staticClass:"at-sidebarhead_search at-sidebarhead_searchv2",class:{"at-support-chat":t.isSupportMember}},[a("div",{staticClass:"at-form-group"},[a("i",{staticClass:"guppy-search"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"at-form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){return t.searchAdminChat()}]}})])]),Object.keys(t.adminSupportChats).length?a("ul",{staticClass:"conversation-list",on:{scroll:function(e){return e.preventDefault(),t.customerSupportScrollHandler(e)}}},[t._l(t.adminSupportChats,(function(e,s){return a("li",{key:s+"_"+Math.floor(99999999*Math.random()),staticClass:"at-userbar",on:{click:function(a){return a.preventDefault(),t.openConversation(e)}}},[a("figure",{staticClass:"at-userbar_profile"},[a("span",{staticClass:"at-userstatus",class:e.isOnline&&1==t.userType?"online":"offline"}),a("img",{attrs:{src:e.userAvatar?e.userAvatar:t.defaultAvatar,alt:e.userName}})]),e.userName?a("div",{staticClass:"at-userbar_title"},[e.userName?a("h3",[t._v(t._s(t._f("capitalize")(e.userName)))]):t._e(),e.startChat?[a("a",{staticClass:"at-btn-sm at-linebtn",attrs:{href:"javascript:void(0);"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.openConversation(e)}}},[t._v(" "+t._s(t.TRANS.start_chat_txt)+" ")])]:[2==Number(e.messageStatus)?a("span",[a("i",{staticClass:"guppy-slash"}),t._v(t._s(t.TRANS.deleted_message))]):0==Number(e.messageType)?a("span",[t._v(t._s(e.message))]):1==Number(e.messageType)?a("span",[a("i",{staticClass:"guppy-paperclip"}),t._v(t._s(e.isSender?t.TRANS.you_sent_attachment:t.TRANS.sent_you_attachment))]):2==Number(e.messageType)?a("span",[a("i",{staticClass:"guppy-map-pin"}),t._v(t._s(e.isSender?t.TRANS.you_sent_location:t.TRANS.sent_you_location))]):3==Number(e.messageType)?a("span",[a("i",{staticClass:"guppy-mic"}),t._v(t._s(e.isSender?t.TRANS.you_sent_voice_note:t.TRANS.sent_you_voice_note))]):t._e()]],2):t._e(),a("div",{staticClass:"at-userbar_right"},[e.timeStamp?a("span",[t._v(t._s(t.getMessageTime(e.timeStamp)))]):t._e(),Number(e.UnreadCount)>0&&Number(e.UnreadCount)<100?a("em",{staticClass:"at-notify"},[t._v(t._s(e.UnreadCount))]):Number(e.UnreadCount)>99?a("em",{staticClass:"at-notify"},[t._v("99+")]):t._e()])])})),t.isLoading?a("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?a("guppy-chat-loader"):a("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,svgIcon:!0,listIcon:"group"}})]],2)},he=[],fe={name:"CustomerSupportChatList",components:{GuppyChatEmptyView:pt,GuppyChatLoader:vt,GuppyChatInnerLoader:St},data:function(){return{defaultAvatar:I.AVATAR,search:"",timer:null,userChatId:""}},watch:{userType:function(t,e){var a=this;1==t&&0==e&&(this.$store.commit("refreshSupportChats"),setTimeout((function(){a.getAdminSupportUser()}),100))}},computed:Object(c["a"])({chatInfo:function(){return this.$store.getters.getChatInfo(this.userChatId)}},Object(u["c"])({adminSupportChats:function(t){return t.adminSupportChats},adminSupportChatsFlag:function(t){return t.adminSupportChatsFlag},adminSupportChatsOffset:function(t){return t.adminSupportChatsOffset},noMoreAdminSupportChats:function(t){return t.noMoreAdminSupportChats},adminSupportChatsSearch:function(t){return t.adminSupportChatsSearch},isSupportMember:function(t){return t.isSupportMember},userProfile:function(t){return t.userProfile}})),methods:{getMessageTime:function(t){return k.getLongDateTime(t)},searchAdminChat:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreAdminSupportChats",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"adminSupportChatsOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"adminSupportChatsSearch",searchValue:t.search}),t.getAdminSupportUser(),t.updateOffset()}),800)},getAdminSupportUser:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreAdminSupportChats){e.next=7;break}return t.isLoading=!0,e.next=4,N.getAdminSupportUserChats(t.adminSupportChatsOffset,t.search,t.isSupportMember);case 4:a=e.sent,t.isLoading=!1,"success"==a.data.type?(s=0==Object.keys(a.data.guppyMessageList).length,t.$store.commit("updateRecordList",{RecordList:"noMoreAdminSupportChats",RecordListValue:s}),t.adminSupportChatsFlag||t.$store.commit("updateListFlag",{flag:"adminSupportChatsFlag",flagValue:!0}),t.updateListRecord(a.data.guppyMessageList)):"error"==a.data.type&&t.alertBox("error",t.TRANS.error_title,a.data.message_desc);case 7:case"end":return e.stop()}}),e)})))()},updateOffset:function(){var t=this.adminSupportChatsOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"adminSupportChatsOffset",offsetValue:t})},customerSupportScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop>=t.target.scrollHeight&&(this.isScrolling=!0,this.getAdminSupportUser(),this.updateOffset())},openConversation:function(t){this.userId?this.openChat(t):this.$root.$emit("toggleSignInWindow",!0)},openChat:function(t){if(t.UnreadCount>0){var e={chatId:t.chatId,userId:this.userId,userType:this.userType,chatType:t.chatType};this.$store.commit("updateUnseenCounter",t),k.updateSeenMessagesCounter(e)}if(this.userChatId=t.chatId,Object.keys(this.chatInfo).length&&this.chatInfo.chatId!=t.chatId){var a={userName:this.userProfile.userName,chatType:this.chatInfo.chatType,chatId:this.chatInfo.chatId,senderId:t.chatId,userType:this.userType,text:""};this.$store.dispatch("triggerclientEvents",{event:"isTyping",payload:a})}this.$store.commit("updateChatInfo",{data:t,userClick:!0})},updateListRecord:function(t){var e={list:t,listType:"adminSupportChats",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)}},created:function(){Object.keys(this.adminSupportChats).length&&this.adminSupportChatsFlag||(this.getAdminSupportUser(),this.updateOffset())},mounted:function(){this.search=this.adminSupportChatsSearch,this.$root.$on("refreshSupportChatList",(function(){}))}},ge=fe,me=Object(J["a"])(ge,de,he,!1,null,null,null),ve=me.exports,Ce={name:"CustomerSupport",components:{UserList:pe,ChatList:ve,GuppySvgIcons:K},data:function(){return{selectedTab:"agents"}},computed:Object(u["c"])({adminSupportChatCount:function(t){return t.adminSupportChatCount},isSupportMember:function(t){return t.isSupportMember}})},be=Ce,ye=(a("36d2"),Object(J["a"])(be,ie,re,!1,null,null,null)),Ie=ye.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gp-whatsappchatfloat"},[a("div",{staticClass:"gp-sidebarhead"},[a("h2",[t._v(t._s(t.TRANS.whatsap_list_title))]),a("p",{domProps:{innerHTML:t._s(t.whatsappText)}}),a("whatsapp-image",{attrs:{ImageColor:"lightGreen"}})],1),a("div",{staticClass:"gp-userlist_tab",attrs:{id:"friendlist"}},[a("div",{staticClass:"gp-sidebarhead_search"},[a("div",{staticClass:"gp-form-group"},[a("i",{staticClass:"guppy-search"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"gp-form-control",attrs:{type:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){return t.userSearch()}]}})])]),a("div",{staticClass:"gp-willrespond"},[a("span",[t._v(t._s(t.TRANS.list_respond_text))])]),Object.keys(t.whatsappList).length?a("ul",{staticClass:"gp-conversation-list",on:{scroll:function(e){return e.preventDefault(),t.userListScrollHandler(e)}}},[t._l(t.whatsappList,(function(e,s){return a("li",{key:s+"_"+Math.floor(99999999*Math.random()),staticClass:"gp-userbar gp-whatsapp-user",class:{active:e.chatId==t.chatInfo.chatId,"gp-notavailable":!e.isOnline},on:{click:function(a){return a.preventDefault(),t.openConversation(e)}}},[a("figure",{staticClass:"gp-userbar_profile gp-profileuserstatus"},[a("span",{staticClass:"gp-userstatus",class:e.isOnline?"online":"offline"}),a("img",{attrs:{src:e.userAvatar?e.userAvatar:t.defaultAvatar,alt:e.userName}})]),a("div",{staticClass:"gp-userbar_title"},[e.userDesignation?a("em",[t._v(t._s(e.userDesignation))]):t._e(),e.userName?a("h3",[t._v(t._s(t._f("capitalize")(e.userName)))]):t._e(),e.startTime&&e.endTime?a("p",[a("span",[t._v(" "+t._s(e.startTime)+" - "+t._s(e.endTime))]),t._v(" "),e.GMTTimezone?a("span",[t._v("( "),a("b",[t._v("GMT "+t._s(e.GMTTimezone)+" hrs ")]),t._v(" ) ")]):t._e()]):a("p",[t._v(t._s(t.TRANS.offline))])]),a("div",{staticClass:"gp-userbar_right"},[a("a",{staticClass:"gp-whatsappbtn",attrs:{href:"javascript:void(0);"}},[a("whatsapp-image")],1)])])})),t.isLoading?a("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?a("guppy-chat-loader"):a("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-user-plus"}})]],2)])},Se=[],we=(a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:t.imageWidth,height:t.imageHeight,viewBox:t.viewBox,fill:"none",xmlns:"http://www.w3.org/2000/svg"}},["pin"==t.ImageColor?[a("path",{attrs:{d:"M2 1H18V2.42105H2V1Z",fill:t.isActive?t.secondaryColor:"#999999"}}),a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1333 7.56011V2.42105H7.86667V7.56011L4.8633 11.8947H15.1367L12.1333 7.56011ZM18 13.3158H2L6.26667 7.1579V1H13.7333V7.1579L18 13.3158Z",fill:t.isActive?t.secondaryColor:"#999999"}}),a("path",{attrs:{d:"M9.46667 13.3158H11.0667V18.2895C11.0667 18.6819 10.7085 19 10.2667 19C9.82484 19 9.46667 18.6819 9.46667 18.2895V13.3158Z",fill:t.isActive?t.secondaryColor:"#999999"}})]:a("path",{attrs:{d:t.imagePath,fill:t.fill}})],2)}),Te=[],Le={name:"WhatsappImage",props:{ImageColor:{type:String,default:"#25D366",required:!1},isActive:{type:Boolean,default:!1,required:!1}},data:function(){return{secondaryColor:_.secondaryColor}},computed:{fill:function(){return"white"==this.ImageColor||"lightGreen"==this.ImageColor?"white":"#25D366"},imageWidth:function(){return"white"==this.ImageColor?44:"lightGreen"==this.ImageColor?47:(this.ImageColor,20)},imageHeight:function(){return"white"==this.ImageColor?44:"lightGreen"==this.ImageColor?60:(this.ImageColor,20)},viewBox:function(){return"white"==this.ImageColor?"0 0 44 44":"lightGreen"==this.ImageColor?"0 0 47 60":(this.ImageColor,"0 0 20 20")},imagePath:function(){var t="M17.0045 2.90625C15.1339 1.03125 12.6429 0 9.99554 0C4.53125 0 0.0848214 4.44643 0.0848214 9.91071C0.0848214 11.6562 0.540179 13.3616 1.40625 14.8661L0 20L5.25446 18.6205C6.70089 19.4107 8.33036 19.8259 9.99107 19.8259H9.99554C15.4554 19.8259 20 15.3795 20 9.91518C20 7.26786 18.875 4.78125 17.0045 2.90625ZM9.99554 18.1563C8.51339 18.1563 7.0625 17.7589 5.79911 17.0089L5.5 16.8304L2.38393 17.6473L3.21429 14.6071L3.01786 14.2946C2.19196 12.9821 1.75893 11.4688 1.75893 9.91071C1.75893 5.37054 5.45536 1.67411 10 1.67411C12.2009 1.67411 14.2679 2.53125 15.8214 4.08929C17.375 5.64732 18.3304 7.71429 18.3259 9.91518C18.3259 14.4598 14.5357 18.1563 9.99554 18.1563ZM14.5134 11.9866C14.2679 11.8616 13.0491 11.2634 12.8214 11.183C12.5938 11.0982 12.4286 11.058 12.2634 11.308C12.0982 11.558 11.625 12.1116 11.4777 12.2813C11.3348 12.4464 11.1875 12.4688 10.942 12.3438C9.48661 11.6161 8.53125 11.0446 7.57143 9.39732C7.31696 8.95982 7.82589 8.99107 8.29911 8.04464C8.37946 7.87946 8.33929 7.73661 8.27679 7.61161C8.21429 7.48661 7.71875 6.26786 7.51339 5.77232C7.3125 5.29018 7.10714 5.35714 6.95536 5.34821C6.8125 5.33929 6.64732 5.33929 6.48214 5.33929C6.31696 5.33929 6.04911 5.40179 5.82143 5.64732C5.59375 5.89732 4.95536 6.49554 4.95536 7.71429C4.95536 8.93304 5.84375 10.1116 5.96429 10.2768C6.08929 10.442 7.70982 12.942 10.1964 14.0179C11.7679 14.6964 12.3839 14.7545 13.1696 14.6384C13.6473 14.567 14.6339 14.0402 14.8393 13.4598C15.0446 12.8795 15.0446 12.3839 14.9821 12.2813C14.9241 12.1696 14.7589 12.1071 14.5134 11.9866Z";return"white"==this.ImageColor?t="M37.4098 6.39375C33.2946 2.26875 27.8143 0 21.9902 0C9.96875 0 0.186607 9.78214 0.186607 21.8036C0.186607 25.6437 1.18839 29.3955 3.09375 32.7054L0 44L11.5598 40.9652C14.742 42.7036 18.3268 43.617 21.9804 43.617H21.9902C34.0018 43.617 44 33.8348 44 21.8134C44 15.9893 41.525 10.5187 37.4098 6.39375ZM21.9902 39.9437C18.7295 39.9437 15.5375 39.0696 12.758 37.4196L12.1 37.0268L5.24464 38.8241L7.07143 32.1357L6.63929 31.4482C4.82232 28.5607 3.86964 25.2312 3.86964 21.8036C3.86964 11.8152 12.0018 3.68304 22 3.68304C26.842 3.68304 31.3893 5.56875 34.8071 8.99643C38.225 12.4241 40.3268 16.9714 40.317 21.8134C40.317 31.8116 31.9786 39.9437 21.9902 39.9437ZM31.9295 26.3705C31.3893 26.0955 28.708 24.7795 28.2071 24.6027C27.7063 24.4161 27.3429 24.3277 26.9795 24.8777C26.6161 25.4277 25.575 26.6455 25.2509 27.0187C24.9366 27.3821 24.6125 27.4312 24.0723 27.1562C20.8705 25.5554 18.7688 24.2982 16.6571 20.6741C16.0973 19.7116 17.217 19.7804 18.258 17.6982C18.4348 17.3348 18.3464 17.0205 18.2089 16.7455C18.0714 16.4705 16.9813 13.7893 16.5295 12.6991C16.0875 11.6384 15.6357 11.7857 15.3018 11.7661C14.9875 11.7464 14.6241 11.7464 14.2607 11.7464C13.8973 11.7464 13.308 11.8839 12.8071 12.4241C12.3062 12.9741 10.9018 14.2902 10.9018 16.9714C10.9018 19.6527 12.8563 22.2455 13.1214 22.6089C13.3964 22.9723 16.9616 28.4723 22.4321 30.8393C25.8893 32.3321 27.2446 32.4598 28.9732 32.2045C30.0241 32.0473 32.1946 30.8884 32.6464 29.6116C33.0982 28.3348 33.0982 27.2446 32.9607 27.0187C32.833 26.7732 32.4696 26.6357 31.9295 26.3705Z":"lightGreen"==this.ImageColor&&(t="M38.0134 8.71875C32.4018 3.09375 24.9286 0 16.9866 0C0.593748 0 -12.7455 13.3393 -12.7455 29.7321C-12.7455 34.9688 -11.3795 40.0848 -8.78125 44.5982L-13 60L2.76339 55.8616C7.10268 58.2321 11.9911 59.4777 16.9732 59.4777H16.9866C33.3661 59.4777 47 46.1384 47 29.7455C47 21.8036 43.625 14.3437 38.0134 8.71875ZM16.9866 54.4688C12.5402 54.4688 8.1875 53.2768 4.39732 51.0268L3.5 50.4911L-5.84821 52.942L-3.35714 43.8214L-3.94643 42.8839C-6.42411 38.9464 -7.72321 34.4062 -7.72321 29.7321C-7.72321 16.1116 3.36607 5.02232 17 5.02232C23.6027 5.02232 29.8036 7.59375 34.4643 12.2679C39.125 16.942 41.9911 23.1429 41.9777 29.7455C41.9777 43.3795 30.6071 54.4688 16.9866 54.4688ZM30.5402 35.9598C29.8036 35.5848 26.1473 33.7902 25.4643 33.5491C24.7812 33.2946 24.2857 33.1741 23.7902 33.9241C23.2946 34.6741 21.875 36.3348 21.433 36.8438C21.0045 37.3393 20.5625 37.4062 19.8259 37.0312C15.4598 34.8482 12.5938 33.1339 9.71428 28.192C8.95089 26.8795 10.4777 26.9732 11.8973 24.1339C12.1384 23.6384 12.0179 23.2098 11.8304 22.8348C11.6429 22.4598 10.1562 18.8036 9.54018 17.317C8.9375 15.8705 8.32143 16.0714 7.86607 16.0446C7.4375 16.0179 6.94196 16.0179 6.44643 16.0179C5.95089 16.0179 5.14732 16.2054 4.46428 16.942C3.78125 17.692 1.86607 19.4866 1.86607 23.1429C1.86607 26.7991 4.53125 30.3348 4.89286 30.8304C5.26786 31.3259 10.1295 38.8259 17.5893 42.0536C22.3036 44.0893 24.1518 44.2634 26.5089 43.9152C27.942 43.7009 30.9018 42.1205 31.5179 40.3795C32.1339 38.6384 32.1339 37.1518 31.9464 36.8438C31.7723 36.5089 31.2768 36.3214 30.5402 35.9598Z"),t}}},Me=Le,ke=Object(J["a"])(Me,we,Te,!1,null,null,null),Ae=ke.exports,Oe=a("7f45"),je=a.n(Oe),xe={name:"GuppyChatWhatsappUserList",components:{GuppyChatEmptyView:pt,GuppyChatLoader:vt,GuppyChatInnerLoader:St,WhatsappImage:Ae},data:function(){return{defaultAvatar:I.AVATAR,search:"",timer:null}},computed:Object(c["a"])({whatsappText:function(){var t=_.translations.whatsapp_support_desc,e="<span>"+_.translations.conversation_name_txt+"</span>";return t.replace("{{conversation_name}}",e)}},Object(u["c"])({whatsappList:function(t){var e=t.whatsappList;if(Object.keys(e).length){var a=je.a.utc().format("YYYY-MM-DD HH:mm:ss"),s=je.a.utc(a,"YYYYMMDD HH:mm:ss");return Object.values(e).map((function(t){var e=s.clone().tz(t.usertimeZone),a=e.format("dddd").toLowerCase(),i=e.format("YYYY-MM-DD"),r=e.format("YYYY-MM-DD HH:mm:ss"),n=t.availableTime[a],o=!1,c=0;if(n){var u="".concat(i," ").concat(n["start_time"]),l="".concat(i," ").concat(n["end_time"]);o=je()(r).isBetween(u,l);var p=je.a.tz.guess(),d=s.clone().tz(p,!0),h=Number(e.format("Z").split(":")[0]),f=Number(d.format("Z").split(":")[0]),g=f-h;c=-1*g;var m=d.format("YYYY-MM-DD"),v="".concat(m," ").concat(n["start_time"]),C="".concat(m," ").concat(n["end_time"]),b="hh:mm a",y=je()(v).format(b),I=je()(C).format(b);t.startTime=y,t.endTime=I}return t.isOnline=o,t.GMTTimezone=c,t}))}return[]},whatsappListFlag:function(t){return t.whatsappListFlag},whatsappListOffset:function(t){return t.whatsappListOffset},noMoreWhatsappUsers:function(t){return t.noMoreWhatsappUsers},whatsappUserSearch:function(t){return t.whatsappUserSearch},chatInfo:function(t){return t.chatInfo},userProfile:function(t){return t.userProfile}})),methods:{showWidget:function(){this.$root.$emit("showWidget")},userSearch:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMoreWhatsappUsers",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"whatsappListOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"whatsappUserSearch",searchValue:t.search}),t.getUsersList(),t.updateOffset()}),800)},getUsersList:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMoreWhatsappUsers){e.next=7;break}return t.isLoading=!0,e.next=4,N.getWhatsappUserList(t.whatsappListOffset,t.search);case 4:a=e.sent,t.isLoading=!1,"success"==a.data.type?(s=0==Object.keys(a.data.userList).length,t.$store.commit("updateRecordList",{RecordList:"noMoreWhatsappUsers",RecordListValue:s}),t.whatsappListFlag||t.$store.commit("updateListFlag",{flag:"whatsappListFlag",flagValue:!0}),t.updateListRecord(a.data.userList)):"error"==a.data.type&&t.alertBox("error",t.TRANS.error_title,a.data.message_desc);case 7:case"end":return e.stop()}}),e)})))()},updateOffset:function(){var t=this.whatsappListOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"whatsappListOffset",offsetValue:t})},userListScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop+1>=t.target.scrollHeight&&(this.isScrolling=!0,this.getUsersList(),this.updateOffset())},openConversation:function(t){var e=h()(".gp-chat").width();e<=768&&h()(".gp-chat").addClass("gp-opnchatbox"),this.$store.commit("updateChatInfo",{data:t,userClick:!0}),this.$root.$emit("toggleSignInWindow",!1)},updateListRecord:function(t){var e={list:t,listType:"whatsappList",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e),setTimeout((function(){h()(".gp-users-list .gp-conversation-list").addClass("active")}),200)}},created:function(){Object.keys(this.whatsappList).length&&this.whatsappListFlag||(this.getUsersList(),this.updateOffset())},mounted:function(){this.search=this.whatsappUserSearch}},Ne=xe,Re=(a("4d82"),Object(J["a"])(Ne,_e,Se,!1,null,null,null)),Ue=Re.exports,De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-sidebarhead"},[a("div",{staticClass:"at-chat_sidebarsetting at-userlist_tab at-userlist_tabv2"},[a("div",{staticClass:"at-chat_sidebarsettingtitle"},[a("h2",[t._v(t._s(t.TRANS.profile_settings))])]),a("div",{staticClass:"at-chat_profile"},[a("form",{staticClass:"at-themeform",attrs:{enctype:"multipart/form-data"}},[a("fieldset",[a("div",{staticClass:"at-form-group-wrap"},[a("div",{staticClass:"at-form-group"},[a("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.full_name))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.userName,expression:"profileInfo.userName"}],staticClass:"at-form-control",class:{"at-disabled":!t.isAllowEditAccSetting},attrs:{type:"text",required:"",disabled:!t.isAllowEditAccSetting,placeholder:t.TRANS.your_name},domProps:{value:t.profileInfo.userName},on:{input:function(e){e.target.composing||t.$set(t.profileInfo,"userName",e.target.value)}}})]),a("div",{staticClass:"at-form-group"},[a("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.email))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.userEmail,expression:"profileInfo.userEmail"}],staticClass:"at-form-control",class:{"at-disabled":!t.isAllowEditAccSetting},attrs:{type:"email",required:"",disabled:!t.isAllowEditAccSetting,placeholder:t.TRANS.your_email},domProps:{value:t.profileInfo.userEmail},on:{input:function(e){e.target.composing||t.$set(t.profileInfo,"userEmail",e.target.value)}}})]),a("div",{staticClass:"at-form-group"},[a("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.phone))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profileInfo.userPhone,expression:"profileInfo.userPhone"}],staticClass:"at-form-control",class:{"at-disabled":!t.isAllowEditAccSetting},attrs:{type:"text",disabled:!t.isAllowEditAccSetting,required:"",placeholder:t.TRANS.your_phone},domProps:{value:t.profileInfo.userPhone},on:{input:function(e){e.target.composing||t.$set(t.profileInfo,"userPhone",e.target.value)}}})]),a("div",{staticClass:"at-form-group"},[a("div",{staticClass:"at-dropbox sv-newslots",class:{"at-dropboxv2":t.isMessangerChat}},[a("div",{staticClass:"at-viewuploadimg"},[t.uploadImage?a("img",{attrs:{src:t.uploadImage}}):t._e(),a("svg",[a("rect",{attrs:{width:"100%",height:"100%"}})]),a("div",{staticClass:"at-uploadarea"},[a("h6",[t._v(t._s(t.TRANS.upload_photo_dsc))]),t.isAllowEditAccSetting?a("div",{staticClass:"at-btnareasetting"},[a("label",{staticClass:"at-btn at-btnsm",attrs:{for:"dropbox"}},[t._v(" "+t._s(t.TRANS.upload_photo_btn)+" ")]),a("button",{staticClass:"at-btn at-btnplain",on:{click:function(e){return e.preventDefault(),t.removeImage()}}},[t._v(" "+t._s(t.TRANS.remove)+" "),a("i",{staticClass:"guppy-trash-2"})])]):t._e()])]),t.isAllowEditAccSetting?a("input",{attrs:{type:"file",accept:t.uploadImgExt.join(","),id:"dropbox",name:"dropbox"},on:{change:function(e){return e.preventDefault(),t.onImageUpload.apply(null,arguments)}}}):t._e()])]),a("div",{staticClass:"at-settingbtns at-form-group"},[a("div",{staticClass:"at-rightswitcharea",class:t.userProfileData.muteNotification?"at-muted":"at-mute",on:{click:function(e){return e.preventDefault(),t.muteNotification()}}},[a("i",{class:t.userProfileData.muteNotification?"guppy-volume-x":"guppy-volume-2"}),a("span",[t._v(t._s(t.TRANS.mute_alert_txt))])]),a("div",{staticClass:"at-rightswitcharea at-logout",on:{click:function(e){return e.preventDefault(),t.logout()}}},[a("i",{staticClass:"guppy-power"}),a("span",[t._v(t._s(t.TRANS.logout))])])]),t.isAllowEditAccSetting?a("div",{staticClass:"at-form-group"},[a("button",{staticClass:"at-btn at-btn-block",class:{"at-disable-btn":t.isloadingUpdt},attrs:{disabled:t.isloadingUpdt},on:{click:function(e){return e.preventDefault(),t.updateProfileInfo()}}},[t._v(" "+t._s(t.TRANS.save_changes)+" ")])]):t._e()])])])])])])},$e=[],Pe=(a("b0c0"),a("e893f")),Ee=a.n(Pe),Be={name:"GuppyChatProfileSetting",data:function(){return{defaultAvatar:Ee.a,logoutUrl:S,profileInfo:{muteNotification:"",userAvatar:"",userEmail:"",userId:"",userName:"",userPhone:""},removeAvatar:0,notificationLoader:!1,uploadImgExt:[".png",".jpeg",".jpg",".gif"],uploadImage:"",thumbnailImg:"",file:"",showImage:!0,isloadingUpdt:!1,getUserIfno:!0,newVal:""}},computed:Object(c["a"])({isAllowEditAccSetting:function(){return!_.hideAccSettings}},Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat},userProfileData:function(t){return t.userProfile}})),watch:{userProfileData:function(t,e){""==e&&(this.setProfileInfo(),this.newVal=t)}},methods:{logout:function(){window.location.href=S},muteNotification:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={muteType:1,userId:t.userId,chatType:"",chatId:""},t.notificationLoader=!0,e.next=4,N.muteNotification(a);case 4:s=e.sent,t.notificationLoader=!1,"error"==s.data.type&&t.alertBox("error",t.TRANS.error_title,s.data.desc);case 7:case"end":return e.stop()}}),e)})))()},updateProfileInfo:function(){var t=this,e=this.profileInfo,a=k.validateEmail(e.userEmail);if(e.userEmail&&e.userName&&e.userPhone&&a){var s=new FormData;Object.keys(this.profileInfo).map((function(e){s.append(e,t.profileInfo[e])})),s.append("removeAvatar",this.removeAvatar),this.file&&s.append(0,this.file),this.isloadingUpdt=!0,this.axios.post("update-profile-info",s).then((function(e){if(t.isloadingUpdt=!1,"success"==e.data.type){var a=e.data.userInfo;t.profileInfo.userEmail=a.userEmail,t.profileInfo.userPhone=a.userPhone,t.profileInfo.userName=a.userName,a.userAvatar?(t.profileInfo.userAvatar=a.userAvatar,t.uploadImage=t.thumbnailImg=a.userAvatar):1==t.removeAvatar&&(t.thumbnailImg="",t.profileInfo.userAvatar=""),a["userAvatar"]=t.profileInfo.userAvatar,a["muteNotification"]=t.userProfileData.muteNotification;var s={userInfo:a};t.$store.commit("setUserProfile",s)}else"error"==e.data.type&&t.alertBox("error",t.TRANS.error_title,e.data.message_desc)})).catch((function(e){t.isloadingUpdt=!1,t.errors=e,console.log(e)}))}else this.alertBox("error",this.TRANS.error_title,this.TRANS.empty_input_err_txt)},onImageUpload:function(t){var e=t.target.files[0],a=e.name.split(".").pop();a=a?a.toLowerCase():"",this.uploadImgExt.includes("."+a)?(this.removeAvatar=0,this.showImage=!0,this.$root.$emit("croppedProfileImage",e),t.target.value=""):this.alertBox("error",this.TRANS.error_title,this.TRANS.invalid_input_file)},removeImage:function(){this.removeAvatar=1,this.showImage=!1,this.uploadImage=this.defaultAvatar,this.file="",this.profileInfo.userAvatar=""},setProfileInfo:function(){var t=this.userProfileData,e=this.profileInfo;e.muteNotification=t.muteNotification,e.userAvatar=t.userAvatar,e.userEmail=t.userEmail,e.userId=t.userId,e.userName=t.userName,e.userPhone=t.userPhone,this.uploadImage=this.thumbnailImg=t.userAvatar,this.showImage=!!t.userAvatar}},mounted:function(){var t=this;this.$root.$on("CroppedfileParams",(function(e){t.file=e.file,t.uploadImage=e.imageUrl}))},created:function(){this.setProfileInfo()}},We=Be,Ve=(a("a410"),Object(J["a"])(We,De,$e,!1,null,null,null)),Fe=Ve.exports,qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-userlist_tab at-userlist_tabv2",attrs:{id:"messages"}},[a("div",{staticClass:"at-sidebarhead_search at-sidebarhead_searchv2"},[a("div",{staticClass:"at-form-group"},[a("i",{staticClass:"guppy-search"}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"at-form-control",attrs:{type:"search",name:"search",placeholder:t.TRANS.search},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value.trim())},function(e){return t.searchConversation()}],blur:function(e){return t.$forceUpdate()}}})])]),Object.keys(t.conversation).length?a("ul",{staticClass:"conversation-list",on:{scroll:function(e){return t.conversationScrollHandler(e)}}},[t._l(t.conversation,(function(t){return a("guppy-chat-conversation-list-item",{key:t.chatId,attrs:{itemProps:t}})})),t.isLoading?a("guppy-chat-inner-loader"):t._e()],2):[t.isLoading?a("guppy-chat-loader"):a("guppy-chat-empty-view",{attrs:{isSidebarProps:!0,listIcon:"guppy-message-square"}})]],2)},Ge=[],He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"at-userbar",class:Number(t.chatInfo.chatId)==Number(t.itemProps.chatId)&&Number(t.chatInfo.chatType)==Number(t.itemProps.chatType)?"active":"",on:{click:function(e){return e.preventDefault(),t.selectUserChat()}}},[a("figure",{staticClass:"at-userbar_profile",class:{"at-blockuser":t.itemProps.isBlocked}},[t.itemProps.isBlocked?a("i",{staticClass:"guppy-slash"}):a("span",{staticClass:"at-userstatus",class:t.itemProps.isOnline?"online":"offline"}),a("img",{attrs:{src:t.itemProps.userAvatar,alt:"profile image"}})]),a("div",{staticClass:"at-userbar_title"},[t.itemProps.userName?a("h3",[t._v(" "+t._s(t.itemProps.userName)+" ")]):t._e(),t.itemProps.clearChat?t._e():[2==Number(t.itemProps.messageStatus)?a("span",[a("i",{staticClass:"guppy-slash"}),t._v(t._s(t.TRANS.deleted_message))]):0==Number(t.itemProps.messageType)?a("span",[t._v(t._s(t.itemProps.message))]):t._e(),4==Number(t.itemProps.messageType)?a("span",[a("span",{domProps:{innerHTML:t._s(t.notifyMessage(t.itemProps))}})]):t._e()]],2),0==t.itemProps.clearChat?a("div",{staticClass:"at-userbar_right"},[t.itemProps.timeStamp?a("span",[t._v(t._s(t.getMessageTime(t.itemProps.timeStamp)))]):t._e(),Number(t.itemProps.UnreadCount)>0&&Number(t.itemProps.UnreadCount)<100?a("em",{staticClass:"at-notify"},[t._v(t._s(t.itemProps.UnreadCount))]):Number(t.itemProps.UnreadCount)>99?a("em",{staticClass:"at-notify"},[t._v("99+")]):t._e()]):t._e()])},ze=[],Qe={name:"ConversationListItem",props:["itemProps"],data:function(){return{}},computed:Object(c["a"])({chatInfo:function(){return this.$store.getters.getChatInfo(this.itemProps.chatId)}},Object(u["c"])({userProfile:function(t){return t.userProfile}})),methods:{notifyMessage:function(t){var e=t.chatType,a=t.message,s=Number(a.type),i=this.TRANS;if(1==e&&1==s){var r=t.isSender?i.auto_inv_sender_msg:i.auto_inv_receiver_msg;return r=r.replace(/\\/g,""),r.replace("((username))",t.userName)}return""},selectUserChat:function(){var t=this.itemProps;if(t.UnreadCount>0){var e={chatId:t.chatId,userId:this.userId,chatType:t.chatType};this.$store.commit("updateUnseenCounter",this.itemProps),k.updateSeenMessagesCounter(e)}if(Object.keys(this.chatInfo).length){var a={userName:this.userProfile.userName,chatType:this.chatInfo.chatType,chatId:this.chatInfo.chatId,senderId:this.userId,text:""};this.$store.dispatch("triggerclientEvents",{event:"isTyping",payload:a})}this.$store.commit("updateChatInfo",{data:t,userClick:!0})},getMessageTime:function(t){return k.getLongDateTime(t)}}},Ze=Qe,Ye=Object(J["a"])(Ze,He,ze,!1,null,null,null),Je=Ye.exports,Xe={name:"GuppyChatPrivateList",components:{GuppyChatConversationListItem:Je,GuppyChatLoader:vt,GuppyChatInnerLoader:St,GuppyChatEmptyView:pt},data:function(){return{search:"",timer:null,initScroll:!1}},computed:Object(c["a"])({},Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat},conversation:function(t){return t.privateConversation},privateConvFlag:function(t){return t.privateConvFlag},privateChatOffset:function(t){return t.privateChatOffset},noMorePrivateChat:function(t){return t.noMorePrivateChat},privateChatSearch:function(t){return t.privateChatSearch},windowWidth:function(t){return t.windowWidth}})),methods:{searchConversation:function(){var t=this;this.$store.commit("updateRecordList",{RecordList:"noMorePrivateChat",RecordListValue:!1}),this.isScrolling=!1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.updateListRecord({}),t.$store.commit("updateOffset",{offset:"privateChatOffset",offsetValue:0}),t.$store.commit("updateSearch",{search:"privateChatSearch",searchValue:t.search}),t.getConversation(),t.updateOffset()}),800)},updateOffset:function(){var t=this.privateChatOffset+this.RecordLimit;this.$store.commit("updateOffset",{offset:"privateChatOffset",offsetValue:t})},getConversation:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.noMorePrivateChat){e.next=7;break}return t.isLoading=!0,e.next=4,N.getConversation(t.privateChatOffset,t.search,1);case 4:a=e.sent,t.isLoading=!1,"success"==a.data.type?(s=0==Object.keys(a.data.guppyMessageList).length,t.$store.commit("updateRecordList",{RecordList:"noMorePrivateChat",RecordListValue:s}),t.privateConvFlag||t.$store.commit("updateListFlag",{flag:"privateConvFlag",flagValue:!0}),t.updateListRecord(a.data.guppyMessageList)):"error"==a.data.type&&t.alertBox("error",t.TRANS.error_title,a.data.message_desc);case 7:case"end":return e.stop()}}),e)})))()},updateListRecord:function(t){var e={list:t,listType:"privateConversation",isScrolling:this.isScrolling};this.$store.commit("updateTabListRecord",e)},conversationScrollHandler:function(t){t.target.offsetHeight+t.target.scrollTop+1>=t.target.scrollHeight&&(this.isScrolling=!0,this.getConversation(),this.updateOffset())},openChat:function(t){if(t["chatType"]=1,this.chatInfo&&this.chatInfo.chatId!=t.chatId){var e={userName:this.userProfile.userName,chatType:this.chatInfo.chatType,chatId:this.chatInfo.chatId,senderId:t.chatId,userType:this.userType,text:""};this.$store.dispatch("triggerclientEvents",{event:"isTyping",payload:e})}this.$store.commit("updateChatInfo",{data:t,userClick:!0})},onlineUserListScroll:function(){var t=document.querySelector(".at-onlineusers");t.addEventListener("wheel",(function(e){var a=15;e.deltaY>0?t.scrollLeft+=a:t.scrollLeft-=a,e.preventDefault()}));var e,a,s=!1;t.addEventListener("mousedown",(function(i){s=!0,t.classList.add("active"),e=i.pageX-t.offsetLeft,a=t.scrollLeft})),t.addEventListener("mouseleave",(function(){s=!1,t.classList.remove("active")})),t.addEventListener("mouseup",(function(){s=!1,t.classList.remove("active")})),t.addEventListener("mousemove",(function(i){if(s){i.preventDefault();var r=i.pageX-t.offsetLeft,n=1*(r-e);t.scrollLeft=a-n}}))}},created:function(){Object.keys(this.conversation).length&&this.privateConvFlag||(this.getConversation(),this.updateOffset())},mounted:function(){this.search=this.privateChatSearch}},Ke=Xe,ta=(a("d79f"),Object(J["a"])(Ke,qe,Ge,!1,null,null,null)),ea=ta.exports,aa={name:"GuppyChatSidebar",components:{GuppyCahtUserList:Jt,GuppyChatSidebarFooter:st,GuppyChatFriendList:se,GuppyChatBlockUserList:Mt,CustomerSupport:Ie,GuppyChatPrivateList:ea,WhatsappUserList:Ue,GuppyChatProfileSetting:Fe},props:{isWidgetChat:{type:Boolean,required:!1,default:!1}},data:function(){return{Tab:"users"}},watch:{userType:function(t){N.getUnReadMessages(),1==Number(t)&&N.getProfileInfo()}},computed:Object(u["c"])({isWhatsappChat:function(t){return t.isWhatsappChat},activeTab:function(t){return t.activeTab}}),beforeCreate:function(){this.$store.commit("selectTab",_.defaultActiveTab)},created:function(){this.userType&&(N.getUnReadMessages(),0==Number(this.userType)&&N.getGuestUserInfo(),1==Number(this.userType)&&N.getProfileInfo())}},sa=aa,ia=(a("4871"),Object(J["a"])(sa,F,q,!1,null,"5c186318",null)),ra=ia.exports,na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-chat_messages"},[t.isEmptyView?a("no-record-found",{attrs:{listIcon:"guppy-message-circle"}}):[t.isOpenMessagesScr?[t.chatInfo.chatId?a("guppy-chat-message-header"):t._e(),a("messages-container",{attrs:{conversationData:t.convData}}),t.chatInfo.isBlocked&&t.chatInfo.blockedId==t.userId?a("div",{staticClass:"at-chatblockuser"},[a("span",[t._v(" "+t._s(t.TRANS.you_are_blocked)+" ")])]):t.chatInfo.isBlocked&&t.chatInfo.blockedId!=t.userId?a("div",{staticClass:"at-chatblockuser"},[a("span",{domProps:{innerHTML:t._s(t.unblockButtonText)}})]):a("guppy-chat-message-footer",{attrs:{isDisabledFooter:!(!t.loadChat||t.messagesList.length)||t.isDisabledFooter},on:{loadMessageListEvent:function(e){return t.updateMessageList(e)}}})]:a("guppy-chat-invite-response",{on:{loadUserChat:function(e){return t.loadUserChat(e)}}})]],2)},oa=[],ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-messagewrap at-unknownuser"},[t.isShowDefaultMessage?a("a",{staticClass:"at-backtolist",attrs:{href:"javascript:void(0);"}},[a("i",{staticClass:"guppy-chevron-left"})]):t._e(),a("div",{staticClass:"at-alert"},[t.isShowDefaultMessage?t._e():a("a",{staticClass:"at-closepopup",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.closePopUp()}}},[a("i",{staticClass:"guppy-x"})]),a("i",{staticClass:"guppy-alert-circle"}),a("h2",[t._v(t._s(t.userResponseData.userName))]),a("p",[t._v(t._s(t.TRANS.invitation_top_desc))]),a("ul",{staticClass:"at-btnlist"},[a("li",[a("a",{staticClass:"at-btn at-bgsuccess",class:{"at-disable-btn":t.isLoading&&1==t.actionType},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.inviteResponse(1)}}},[t._v(" "+t._s(t.TRANS.accept_invite)+" ")])]),a("li",[a("a",{staticClass:"at-btn at-bgdanger",class:{"at-disable-btn":t.isLoading&&2==t.actionType},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.inviteResponse(2)}}},[t._v(t._s(t.TRANS.decline_invite)+" ")])])]),a("a",{staticClass:"at-anchor",class:{"at-disable-btn":t.isLoading&&3==t.actionType},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.inviteResponse(3)}}},[t._v(" "+t._s(t.TRANS.block_user)+" ")])]),t.isShowDefaultMessage?a("div",{staticClass:"at-messages at-message_sender"},[a("div",{staticClass:"at-message"},[t._v(" "+t._s(t.TRANS.invitaion_bottom_desc)+" ")])]):t._e()])},ua=[],la={name:"GuppyChatInviteResponse",props:{isShowDefaultMessage:{type:Boolean,required:!1,default:!0}},data:function(){return{actionType:0}},computed:Object(c["a"])({},Object(u["c"])({userResponseData:function(t){return t.userResponseData}})),methods:{closePopUp:function(){this.$root.$emit("closePopUp",{type:"acceptInvite"})},inviteResponse:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var s,i,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e.userResponseData.userId,i={statusType:t,actionTo:s,userId:e.userId},e.actionType=t,e.isLoading=!0,a.next=6,k.updateUserStatus(i);case 6:r=a.sent,"success"==r.data.type?(n=r.data.userData,2==n.status?(n["statusText"]="invite",e.$store.commit("declineInvite",n),e.toggleScreen()):3==n.status?(e.$store.commit("blockUser",n),e.toggleScreen()):1==n.status&&(e.$store.commit("acceptInvite",n),e.$emit("loadUserChat",e.userResponseData)),e.$store.commit("updateUnseenCounter",{UnreadCount:1,chatType:5,chatId:n.chatId})):"error"==r.data.type&&e.alertBox("error",e.TRANS.error_title,r.data.message_desc),e.isLoading=!1,e.closePopUp();case 10:case"end":return a.stop()}}),a)})))()},toggleScreen:function(){var t={isEmptyView:!0,isOpenMessagesScr:!1};this.$store.dispatch("toggleMessagesScr",t)}},created:function(){}},pa=la,da=(a("af10"),Object(J["a"])(pa,ca,ua,!1,null,null,null)),ha=da.exports,fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-userinfo"},[a("div",{staticClass:"at-userinfo_title"},[a("a",{staticClass:"at-backtolist",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.backToTabList()}}},[a("i",{staticClass:"guppy-chevron-left"})]),[1,3].includes(Number(t.chatInfo.chatType))?a("figure",{staticClass:"at-userinfo_title_img"},[a("img",{attrs:{src:t.chatInfo.userAvatar?t.chatInfo.userAvatar:t.defaultAvatar,alt:"profile image"}})]):t._e(),a("div",{staticClass:"at-userinfo_title_name"},[[1,3].includes(Number(t.chatInfo.chatType))?a("h3",[t._v(t._s(t._f("capitalize")(t.chatInfo.userName)))]):t._e(),[1,3].includes(Number(t.chatInfo.chatType))?a("span",{staticClass:"at-userstatus",class:t.chatInfo.isOnline&&1==t.userType?"online":"offline"},[t._v(" "+t._s(t.chatInfo.isOnline&&1==t.userType?t.TRANS.online:t.TRANS.offline)+" ")]):t._e()])]),t.chatInfo&&1==t.chatInfo.chatType?[t._m(0),a("guppy-chat-sidebar-setting")]:t._e()],2)},ga=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-userinfo_settings"},[a("a",{attrs:{href:"javascript:void(0);"}},[a("i",{staticClass:"guppy-sliders"})])])}],ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-chat_sidebarsetting"},[a("div",{staticClass:"at-chat_sidebarsettingtitle"},[a("h2",[t._v(t._s(t.TRANS.settings))]),t._m(0)]),a("div",{staticClass:"at-chat_sidebarsettingarea"},[t.chatInfo.memberDisable||3==Number(t.chatInfo.chatType)?t._e():a("div",{staticClass:"at-chat_sidebarsettingcontent"},[a("h4",[t._v(t._s(t.TRANS.actions))]),a("a",{class:{"at-disable-btn":t.notificationLoader},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.muteNotification()}}},[t._v(" "+t._s(t.muteChatNotify?t.TRANS.unmute_conversation:t.TRANS.mute_conversation)+" ")])]),3!=Number(t.chatInfo.chatType)?a("div",{staticClass:"at-chat_sidebarsettingcontent"},[a("h4",[t._v(t._s(t.TRANS.privacy_settings))]),1==t.chatInfo.chatType?[t.chatInfo.isBlocked?[t.chatInfo.blockedId!=t.userId?a("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#blockuser"}},[t._v(" "+t._s(t.TRANS.unblock_user)+" ")]):t._e()]:[a("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#blockuser"}},[t._v(" "+t._s(t.TRANS.block_user)+" ")])]]:t._e(),t.isAllowClearChat?a("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#clearchat"}},[t._v(t._s(t.TRANS.clear_chat))]):t._e()],2):t._e()])])},va=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"javascript:void(0);"}},[a("i",{staticClass:"guppy-x"})])}],Ca={name:"GuppyChatSidebarSetting",data:function(){return{isloading:!1,notificationLoader:!1}},computed:Object(c["a"])({muteChatNotify:function(){return this.$store.getters.muteChatNotify()}},Object(u["c"])({chatInfo:function(t){return t.chatInfo},isAllowClearChat:function(){return _.clearChatOption}})),methods:{muteNotification:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.chatInfo.chatId.split("_")[0],s={muteType:0,userId:t.userId,chatId:t.chatInfo.chatId,chatType:t.chatInfo.chatType,actionTo:a},t.notificationLoader=!0,e.next=5,N.muteNotification(s);case 5:i=e.sent,t.notificationLoader=!1,"error"==i.data.type&&t.alertBox("error",t.TRANS.error_title,i.data.desc);case 8:case"end":return e.stop()}}),e)})))()}}},ba=Ca,ya=(a("abec"),Object(J["a"])(ba,ma,va,!1,null,"0d0d1444",null)),Ia=ya.exports,_a={name:"GuppyChatMessagesHeader",components:{GuppyChatSidebarSetting:Ia},data:function(){return{defaultAvatar:I.AVATAR}},computed:{chatInfo:function(){return this.$store.getters.getChatInfo()}},methods:{backToTabList:function(){var t={isEmptyView:!0,isOpenMessagesScr:!1};this.$store.dispatch("toggleMessagesScr",t),this.$store.commit("updateChatInfo",{})}}},Sa=_a,wa=(a("6db5"),Object(J["a"])(Sa,fa,ga,!1,null,null,null)),Ta=wa.exports,La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-replay",class:{"at-replay_disable":t.isDisabledFooter}},[t.quoteMessage?a("guppy-chat-quoted-messages",{attrs:{quoteMsgProps:t.quoteMessage},on:{removeQuoteMessage:function(e){return t.removeQuote()}}}):t._e(),a("span",{staticClass:"at-typing",domProps:{innerHTML:t._s(t.typingUsers)}}),a("div",{staticClass:"at-replay_content"},[a("send-text-message"),t.isMobileDevice?[t.inputTypingText?a("a",{staticClass:"at-sendmsg-responsive",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.sendTextMessage()}}},[a("i",{staticClass:"guppy-send"})]):t._e()]:t._e()],2)],1)},Ma=[],ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-replay_message"},[a("div",{staticClass:"at-message-qoute"},[a("div",{staticClass:"at-message-qoute_content"},[0==Number(t.quoteMsgProps.messageType)?a("div",{staticClass:"at-sendfile"},[a("span",[t._v(t._s(t.quoteMsgProps.message))])]):t._e()]),a("span",{staticClass:"at-remove-quotes",on:{click:function(e){return e.preventDefault(),t.removeQuoteMessage()}}},[a("i",{staticClass:"guppy-x"})])])])},Aa=[],Oa={name:"GuppyChatQuotedMessages",props:["quoteMsgProps"],methods:{removeQuoteMessage:function(){this.$emit("removeQuoteMessage")}}},ja=Oa,xa=(a("8fe2"),Object(J["a"])(ja,ka,Aa,!1,null,null,null)),Na=xa.exports,Ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-replay_msg gp-replay_msg"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.messageInput,expression:"messageInput"}],ref:"messageInputRef",class:{"gp-form-control gp-replay_msg":"00_4"==t.chatId,"at-form-control at-form-replay":"00_4"!=t.chatId},attrs:{id:"input-text-message-"+t.chatInfo.chatId,type:"text",name:"replay",placeholder:t.TRANS.type_message,autocomplete:"off"},domProps:{value:t.messageInput},on:{input:function(e){e.target.composing||(t.messageInput=e.target.value)}}}),t.isMobileDevice?t._e():[t.isMessangerChat?a("a",{staticClass:"at-sendmsg",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.sendMessage()}}},[a("i",{staticClass:"guppy-send"})]):t._e()]],2)},Ua=[],Da={name:"GuppyChatSendTextMessage",props:{chatId:{type:String,required:!1,default:function(){return null}}},data:function(){return{isMobileDevice:_.isMobileDevice}},computed:Object(c["a"])({messageInput:{get:function(){return this.$store.getters.getMessageInput(this.chatId)},set:function(t){this.$store.commit("updateMessageInput",{text:t,chatId:this.chatId})}},quoteMessage:function(){return this.$store.getters.getQuoteMessage(this.chatId)},quoteMessageId:function(){return this.$store.getters.getQuoteMessageId(this.chatId)},CurrentDate:function(){var t=new Date,e=["January ","February ","March ","April","May","June","July","August","September","October","November","December"],a=t.getDate(),s=e[t.getMonth()],i=t.getFullYear();return"".concat(s," ").concat(a,", ").concat(i)},chatInfo:function(){return this.$store.getters.getChatInfo(this.chatId)}},Object(u["c"])({userProfile:function(t){return t.userProfile},isMessangerChat:function(t){return t.isMessangerChat},isBlockedByMe:function(t){return t.chatInfo.isBlocked}})),watch:{messageInput:function(t){var e={userName:this.userProfile.userName,chatType:this.chatInfo.chatType,chatId:this.chatInfo.chatId,senderId:this.userId,text:t};this.isTyping(e)}},updated:function(){this.autoHeightInput()},methods:{autoHeightInput:function(){var t="#input-text-message-".concat(this.chatInfo.chatId),e=document.getElementById("input-text-message-".concat(this.chatInfo.chatId));if(e){var a=h()(t).css("padding-top").split("px")[0],s=h()(t).css("padding-bottom").split("px")[0],i=Number(a)+Number(s);h()(t).height(0).height(e.scrollHeight-i),h()(t).height()>=60?h()("textarea.at-form-replay").css("overflow","auto"):h()("textarea.at-form-replay").css("overflow","hidden")}},isTyping:function(t){this.$store.dispatch("triggerclientEvents",{event:"isTyping",payload:t})},setMessageInput:function(t){this.messageInput=t.value},sendMessage:function(){"00_4"==this.chatId?this.openWhatsappChat():this.sendTextMessage()},openWhatsappChat:function(){window.open("https://wa.me/".concat(this.chatInfo.userContact,"?text=").concat(this.messageInput),"_blank")},sendTextMessage:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a={receiverId:[1,3].includes(Number(t.chatInfo.chatType))?t.chatInfo.chatId.split("_")[0]:"",userId:t.userId,chatId:t.chatInfo.chatId,chatType:Number(t.chatInfo.chatType),message:t.messageInput,isSender:!0,replyTo:"",latitude:"",longitude:"",messageType:0,messageStatus:0,replyId:t.quoteMessageId,timeStamp:Math.floor((new Date).getTime()/1e3),userType:t.userType,messageSentTime:t.CurrentDate,metaData:{randNum:Math.floor(999999999*Math.random())}},!t.messageInput){e.next=13;break}return t.quoteMessage&&(a["replyMessage"]=t.quoteMessage),t.$store.commit("appendMessage",a),t.$store.commit("removeQuote",{chatId:t.chatInfo.chatId}),t.scrollListToBottom(),t.$store.commit("updateMessageInput",{text:"",chatId:t.chatInfo.chatId}),s=document.getElementById("input-text-message-".concat(t.chatInfo.chatId)),s&&s.focus(),e.next=11,N.sendMessage(a,t.chatInfo.chatId);case 11:i=e.sent,"error"==i.type&&t.alertBox("error",t.TRANS.error_title,i.message_desc);case 13:case"end":return e.stop()}}),e)})))()},scrollListToBottom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;k.messagesScrollList(t,this.chatInfo.chatId)}},mounted:function(){var t=this,e=document.getElementById("input-text-message-".concat(this.chatInfo.chatId)),a=this;e.addEventListener("keydown",(function(t){var e=t.which||t.keyCode;13!==e||t.shiftKey||(t.preventDefault(),a.sendMessage())})),this.$root.$on("sendMessage",(function(e){e.chatId==t.chatInfo.chatId&&t.sendTextMessage()})),this.$root.$on("openWhatsapp",(function(e){e.chatId==t.chatInfo.chatId&&t.openWhatsappChat()}))}},$a=Da,Pa=Object(J["a"])($a,Ra,Ua,!1,null,null,null),Ea=Pa.exports,Ba={name:"GuppyChatMessagesFooter",components:{GuppyChatQuotedMessages:Na,SendTextMessage:Ea},props:["isDisabledFooter"],data:function(){return{uploadType:"",sendingMessages:[],typingIcon:_.typingIcon,isMobileDevice:_.isMobileDevice}},computed:Object(c["a"])({inputTypingText:function(){return this.$store.getters.getMessageInput()},quoteMessage:function(){return this.$store.getters.getQuoteMessage()},quoteMessageId:function(){return this.$store.getters.getQuoteMessageId()},typingUsers:function(){var t=this.$store.getters.typingUsersIndicatorText(),e=w.is_typing,a=w.are_typing,s=w.more_user_typing,i=t.indicator,r=t.typingUsers,n=t.tUsers,o="";if(n){if("isTypingText"==i&&r)o='<em class="at-typing-name">'+r+"</em>"+e;else if("areTypingText"==i&&r)o='<em class="at-typing-name">'+r+"</em>"+a;else{var c='<em class="at-typing-name">'+r+"</em>"+s;o=c.replace("((user_count))",Number(n)-3)}o+='<em><img src="'+_.typingIcon+'" alt="users typing"></em>'}return o}},Object(u["c"])({chatInfo:function(t){return t.chatInfo}})),watch:{chatInfo:function(t,e){t.chatId==e.chatId&&t.chatType==e.chatType||(this.$store.commit("updateMessageInput",{text:"",chatId:t.chatId}),this.removeQuote())}},methods:{sendTextMessage:function(){document.getElementById("input-text-message-".concat(this.chatInfo.chatId)).focus(),this.$root.$emit("sendMessage",{chatId:this.chatInfo.chatId})},removeQuote:function(){this.$store.commit("removeQuote",{chatId:this.chatInfo.chatId})},scrollListToBottom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;k.messagesScrollList(t,this.chatInfo.chatId)}}},Wa=Ba,Va=(a("8276"),Object(J["a"])(Wa,La,Ma,!1,null,null,null)),Fa=Va.exports,qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-view-messages"},[t.loadChat&&!t.messagesList.length?a("div",{staticClass:"at-empty-conversation"},[t._m(0)]):t._e(),t.messagesList.length?[a("div",{ref:"messagesEnd",staticClass:"at-messagewrap",attrs:{id:"message-wrap_"+t.chatInfo.chatId},on:{scroll:function(e){return t.scrollHandler(e)}}},[t.messagesLoading?[t._m(1)]:t._e(),a("guppy-chat-messages-list",{attrs:{chatId:t.chatId}})],2)]:t._e()],2)},Ga=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-chatloader"},[a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-messages at-inner-loaader"},[a("span",[a("i",{staticClass:"at-spinericon"})])])}],Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.messagesList,(function(e){return a("div",{key:e.messageId+"_"+Math.floor(99999999*Math.random()),staticClass:"at-messages",class:{"at-message_sender":e.isSender}},[e.messageSentDate?a("div",{key:e.messageId,staticClass:"at-chatseparation"},[a("span",[t._v(" "+t._s(e.messageSentDate)+" ")])]):t._e(),2==Number(e.messageStatus)?a("guppy-delete-message",{attrs:{messageProps:e}}):0==Number(e.messageType)?a("guppy-chat-text-message",{attrs:{messageProps:e},on:{deleteMsgEvt:function(e){return t.deleteChatMessage(e)}}}):4==Number(e.messageType)?a("guppy-chat-notify-message",{attrs:{chatInfo:t.chatInfo,messageProps:e}}):t._e(),a("span",{staticClass:"at-message_time",class:{"at-seenmsg":e.isSender&&1==Number(e.messageStatus)}},[t._v(" "+t._s(t.getMessageTime(e.timeStamp))+" ")])],1)})),0)},za=[],Qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-message at-messagetext",class:t.responsiveClass,attrs:{id:"message_"+t.messageProps.messageId}},[t.messageProps.replyMessage&&!t.messageProps.messageId?a("span",{staticClass:"at-msgload"},[a("i",{staticClass:"at-spinericon"})]):t._e(),t.messageProps.replyMessage?a("guppy-chat-quote-message-list",{attrs:{messageProps:t.messageProps.replyMessage},scopedSlots:t._u([t.disableReply?null:{key:"message_actions",fn:function(){return[t.messageProps.messageId?a("guppy-chat-message-actions",{attrs:{messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}}):t._e()]},proxy:!0}],null,!0)},[a("span",{directives:[{name:"linkified",rawName:"v-linkified"}]},[t._v(t._s(t.messageProps.message))])]):[a("span",{directives:[{name:"linkified",rawName:"v-linkified"}]},[t._v(t._s(t.messageProps.message))]),t.disableReply?t._e():[t.messageProps.messageId?a("guppy-chat-message-actions",{attrs:{messageProps:t.messageProps},on:{deleteMessageEvent:function(e){return t.deleteMessage(e)}}}):a("span",{staticClass:"at-msgload"},[a("i",{staticClass:"at-spinericon"})])]]],2)},Za=[],Ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-messageoption"},[t._m(0),a("ul",{staticClass:"at-messageoption_list"},[a("li",[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.quoteMessage()}}},[a("i",{staticClass:"guppy-message-circle"}),t._v(" "+t._s(t.TRANS.reply_message))])]),1==t.messageProps.chatType&&t.messageProps.isSender&&0==Number(t.messageProps.messageStatus)&&t.enableDeleteMessage?a("li",{on:{click:function(e){return e.preventDefault(),t.deleteMessage()}}},[a("a",{class:{"at-disable-btn":t.isSending},attrs:{href:"javascript:void(0);"}},[t.isSending?t._e():a("i",{staticClass:"guppy-trash"}),t._v(t._s(t.TRANS.delete)+" ")])]):t._e()])])},Ja=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"at-messageoption_btn",attrs:{href:"javascript:void(0);"}},[a("i",{staticClass:"guppy-chevron-down"})])}],Xa={name:"GuppyChatTextMessageAction",props:{messageProps:{type:Object,required:!0,default:function(){return{isSender:!0,messageStatus:0}}}},data:function(){return{isSending:!1,isDownloading:!1}},computed:{disableDeleteMessage:function(){var t=this.messageProps;return 2!=t.chatType||!("messageSeenIds"in t)||!t.messageSeenIds||!t.messageSeenIds.length},enableDeleteMessage:function(){return _.deleteMessageOption}},methods:{deleteMessage:function(){var t=this;if(!this.isSending){this.isSending=!0;var e={userId:this.userId,messageId:this.messageProps.messageId};this.axios.post("delete-guppy-message",e).then((function(e){if(t.isSending=!1,"success"==e.data.type){h()(".at-messageoption_open").removeClass("at-messageoption_open"),t.$emit("deleteMessageEvent",e.data.messageId);var a=t.userId,s=e.data.receiverId,i={chatId:e.data.chatId,chatType:e.data.chatType,messageId:e.data.messageId,receiverId:s,userId:a};t.$store.dispatch("triggerSocketEvents",{event:"deleteMessage",payload:i})}else"error"==e.data.type&&t.alertBox("error",t.TRANS.error_title,e.data.message_desc)})).catch((function(e){t.isSending=!1,t.errors=e}))}},quoteMessage:function(){h()(".at-messageoption_open").removeClass("at-messageoption_open"),this.$store.commit("updateQuoteMessageId",{chatId:this.messageProps.chatId,messageId:this.messageProps.messageId})}}},Ka=Xa,ts=(a("3b5c"),Object(J["a"])(Ka,Ya,Ja,!1,null,null,null)),es=ts.exports,as=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"at-message-qoute"},[a("div",{staticClass:"at-message-qoute_content"},[a("span",[t._v(t._s(t.messageProps.message))])]),t._t("message_actions")],2),t._t("default")],2)},ss=[],is={name:"GuppyChatQuoteMessageList",props:["messageProps","chatId"]},rs=is,ns=Object(J["a"])(rs,as,ss,!1,null,null,null),os=ns.exports,cs={name:"GuppyChatTextMessage",components:{GuppyChatMessageActions:es,GuppyChatQuoteMessageList:os},props:["messageProps","disableReply"],data:function(){return{responsiveClass:""}},computed:Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat}}),methods:{deleteMessage:function(t){this.$emit("deleteMsgEvt",t)}},mounted:function(){var t=document.getElementById("message_"+this.messageProps.messageId);if(t){var e=t.clientWidth;this.isMessangerChat?e>=220&&(this.responsiveClass="at-chat-msg-220"):e>=270?this.responsiveClass="at-chat-msg-270":e>=190?this.responsiveClass="at-chat-msg-190":e>=110&&(this.responsiveClass="at-chat-msg-110")}}},us=cs,ls=(a("5206"),Object(J["a"])(us,Qa,Za,!1,null,null,null)),ps=ls.exports,ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-leftgroupinfo"},[a("span",{domProps:{innerHTML:t._s(t.messageText)}})])},hs=[],fs={name:"GuppyChatNotifyMessage",props:["messageProps","chatInfo"],computed:{messageText:function(){var t=this.messageProps,e=t.chatType,a=this.messageProps.message,s=Number(a.type),i=w;if(1==e&&1==s){var r=t.isSender?i.auto_inv_sender_msg:i.auto_inv_receiver_msg;return r=r.replace(/\\/g,""),r.replace("((username))",this.chatInfo.userName)}return""}},methods:{}},gs=fs,ms=Object(J["a"])(gs,ds,hs,!1,null,null,null),vs=ms.exports,Cs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-message at-deletemsg"},[a("div",{staticClass:"at-del-msg"},[a("i",{staticClass:"guppy-slash"}),t._v(" "+t._s(t.TRANS.deleted_message))])])},bs=[],ys={name:"GuppyDeleteMessage",props:["messageProps"]},Is=ys,_s=Object(J["a"])(Is,Cs,bs,!1,null,null,null),Ss=_s.exports,ws={name:"GuppyChatMessagesList",components:{GuppyChatTextMessage:ps,GuppyDeleteMessage:Ss,GuppyChatNotifyMessage:vs},props:{chatId:{type:String,required:!1,default:function(){return null}}},computed:{messagesList:function(){return this.$store.getters.messagesListData(this.chatId)},chatInfo:function(){return this.$store.getters.getChatInfo(this.chatId)}},methods:{getMessageTime:function(t){return k.getMessageTime(t)},deleteChatMessage:function(t){var e=this.messagesList.findIndex((function(e){return e.messageId==t})),a=this.messagesList[e];a.messageStatus=2,this.$set(this.messagesList,e,a)}}},Ts=ws,Ls=Object(J["a"])(Ts,Ha,za,!1,null,null,null),Ms=Ls.exports,ks={name:"GuppyChatMessagesContainer",components:{GuppyChatMessagesList:Ms},props:{chatId:{type:String,required:!1,default:function(){return null}},conversationData:{type:Object,required:!1,default:function(){return null}}},data:function(){return{lastScrollTop:0,convData:{offset:0,userId:"",chatType:"",receiverId:"",chatId:""}}},computed:Object(c["a"])({messagesList:function(){return this.$store.getters.messagesListData(this.chatId)},chatInfo:function(){return this.$store.getters.getChatInfo(this.chatId)},loadChat:function(){return this.$store.getters.loadChat(this.chatId)},messagesLoading:function(){return this.$store.getters.messageLoading(this.chatId)}},Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat}})),watch:{conversationData:function(t){t&&this.isMessangerChat&&(this.convData=t)},chatInfo:function(){k.messagesScrollList(this.lastScrollTop,this.chatId)}},methods:{loadChatMessages:function(){this.loadChat&&this.$store.dispatch("UpdateMessageList",{chatData:this.convData,lastScrollTop:this.lastScrollTop?this.lastScrollTop:0})},scrollHandler:function(t){var e=t.currentTarget.scrollTop,a=this.$refs.messagesEnd?this.$refs.messagesEnd.scrollHeight:0;this.lastScrollTop=a-e;var s=0===Math.round(e);s&&this.messagesList.length&&a>t.currentTarget.offsetHeight&&this.loadChatMessages()},scrollListToBottom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;k.messagesScrollList(t,this.chatInfo.chatId)},scrollListToPosition:function(){this.scrollListToBottom(this.lastScrollTop)},updateConvData:function(){var t=0,e="",a="",s="",i="";a=Number(this.chatInfo.chatType),i=this.chatInfo.chatId,e=this.userId,[1,3].includes(Number(this.chatInfo.chatType))&&(s=i.split("_")[0]),this.convData={offset:t,userId:e,chatType:a,receiverId:s,chatId:i}}},created:function(){this.isMessangerChat?this.convData=this.conversationData:(this.updateConvData(),this.messagesList.length||this.loadChatMessages(),k.messagesScrollList(this.lastScrollTop,this.chatId))}},As=ks,Os=(a("ad21"),Object(J["a"])(As,qa,Ga,!1,null,"7f007d8c",null)),js=Os.exports,xs={name:"GuppyChatMessages",components:{NoRecordFound:pt,GuppyChatInviteResponse:ha,GuppyChatMessageHeader:Ta,GuppyChatMessageFooter:Fa,MessagesContainer:js},data:function(){return{convData:{offset:0,userId:"",chatType:"",receiverId:"",chatId:""}}},watch:{chatInfo:{handler:function(){if(this.isMessangerChat){this.updateConvData(),this.messagesList.length||this.loadChatMessages(),this.scrollListToBottom();var t={isEmptyView:!1,isOpenMessagesScr:!0};this.$store.dispatch("toggleMessagesScr",t)}}}},computed:Object(c["a"])({messagesList:function(){var t="";return t=this.$store.state.isMessangerChat?this.$store.state.chatInfo.chatId:this.chatId,this.$store.getters.messagesListData(t)},loadChat:function(){return!this.$store.state.isMessangerChat||this.$store.getters.loadChat(this.$store.state.chatInfo.chatId)},isDisabledFooter:function(){return this.$store.getters.isDisabledFooter()},chatInfo:function(){return this.$store.getters.getChatInfo()}},Object(u["c"])({isOpenMessagesScr:function(t){return t.isOpenMessagesScr},isEmptyView:function(t){return t.isEmptyView},isMessangerChat:function(t){return t.isMessangerChat},unblockButtonText:function(){var t=w.blocked_user_message,e=w.unblock_now,a='<a href="javascript:;" guppy-data-target="#blockuser">'+e+" </a>",s=t.replace("%Unblock%",a);return s}})),methods:{updateConvData:function(){var t=0,e="",a="",s="",i="";a=Number(this.chatInfo.chatType),i=this.chatInfo.chatId,e=this.userId,[1,3].includes(Number(this.chatInfo.chatType))&&(s=i.split("_")[0]),this.convData={offset:t,userId:e,chatType:a,receiverId:s,chatId:i}},loadChatMessages:function(){this.loadChat&&this.$store.dispatch("UpdateMessageList",{chatData:this.convData,lastScrollTop:this.lastScrollTop?this.lastScrollTop:0})},loadUserChat:function(t){this.convData={offset:0,userId:this.userId,chatType:1,receiverId:t.userId,chatId:t.chatId},this.loadChatMessages()},scrollListToBottom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;k.messagesScrollList(t,this.chatInfo.chatId)}}},Ns=xs,Rs=(a("8aab"),Object(J["a"])(Ns,na,oa,!1,null,"26904eda",null)),Us=Rs.exports,Ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("div",{staticClass:"at-modal",attrs:{id:"blockuser"}},[a("div",{staticClass:"at-modaldialog"},[a("div",{staticClass:"at-alert"},[a("i",{staticClass:"guppy-alert-circle"}),a("h2",[t._v(t._s(t.chatInfo.isBlocked?t.TRANS.unblock_user_heading.replace("((username))",t.chatInfo.userName):t.TRANS.block_user_title.replace("((username))",t.chatInfo.userName)))]),a("p",[t._v(t._s(t.chatInfo.isBlocked?t.TRANS.unblock_user_description:t.TRANS.block_user_description))]),a("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isloadingUpdt},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.toggleBlockUser()}}},[t._v(" "+t._s(t.chatInfo.isBlocked?t.TRANS.unblock_button:t.TRANS.block_user_button)+" ")]),a("a",{staticClass:"at-anchor at-guppy-removemodal",attrs:{href:"javascript:void(0);"}},[t._v(" "+t._s(t.TRANS.not_right_now)+" ")])])])])],[a("div",{staticClass:"at-modal",attrs:{id:"clearchat"}},[a("div",{staticClass:"at-modaldialog"},[a("div",{staticClass:"at-alert"},[a("i",{staticClass:"guppy-alert-circle"}),a("h2",[t._v(t._s(t.TRANS.clear_chat))]),a("p",[t._v(t._s(t.TRANS.clear_chat_description))]),a("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isloadingUpdt},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.clearChat()}}},[t._v(" "+t._s(t.TRANS.clear_chat_button)+" ")]),a("a",{staticClass:"at-anchor at-guppy-removemodal",attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.TRANS.not_right_now))])])])])],[a("div",{staticClass:"at-modal at-cropping-popup",class:{"at-modalopen at-fadin":t.isCroppedImage},attrs:{id:"image_crop"}},[a("div",{staticClass:"at-modaldialog"},[a("div",{staticClass:"at-alert"},[a("vue-croppie",{ref:"profCroppieRef",attrs:{enableResize:!1,boundary:t.proCroppieBoundry,viewport:t.proCroppieViewport}}),a("div",{staticClass:"at-form-group"},[a("ul",{staticClass:"at-btnlist"},[a("li",[a("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isloadingUpdt},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.proCroppedImage()}}},[t._v(t._s(t.TRANS.crop_img_txt))])]),a("li",[a("a",{staticClass:"at-btn at-btnv2",attrs:{href:"javascript:void(0);",id:"cancel_crop_image"},on:{click:function(e){return e.preventDefault(),t.closePopUp("cropImage")}}},[t._v(t._s(t.TRANS.cancel_txt))])])])])],1)])])],[a("div",{staticClass:"at-modal at-invitepopup",class:{"at-modalopen at-fadin":t.isOpenInvitePopUp},attrs:{id:"accept_invite"}},[a("div",{staticClass:"at-modaldialog"},[a("guppy-chat-invite-response",{attrs:{isShowDefaultMessage:!1}})],1)])]],2)},$s=[],Ps=(a("2b3d"),{name:"GuppyChatSidebarSettingPopup",components:{GuppyChatInviteResponse:ha},data:function(){return{isloadingUpdt:!1,proCroppieBoundry:{width:600,height:460},proCroppieViewport:{width:500,height:450,type:"square"},isCroppedImage:!1,isOpenInvitePopUp:!1}},computed:{chatInfo:function(){return this.$store.getters.getChatInfo()}},methods:{closePopUp:function(t){switch(t){case"cropImage":this.isCroppedImage=!1;break;case"acceptInvite":this.isOpenInvitePopUp=!1;break}},openPopUp:function(t){switch(t){case"cropImage":this.isCroppedImage=!0;break;case"acceptInvite":this.isOpenInvitePopUp=!0;break}},setProfileImage:function(t){var e=this,a=new FileReader;this.isCroppedImage=!0,a.onload=function(t){e.$refs.profCroppieRef.bind({url:t.target.result})},a.readAsDataURL(t)},proCroppedImage:function(){var t=this,e={type:"blob",size:{width:600,height:450},format:"jpeg"},a="",s="";this.$refs.profCroppieRef.result(e,(function(e){var i=new File([e],"image_".concat(Math.floor(99999999*Math.random()),".jpeg"),{type:e.type});s=i,a=URL.createObjectURL(i),t.isCroppedImage=!1,t.$root.$emit("CroppedfileParams",{imageUrl:a,file:s})}))},capitalizeText:function(t){return"string"!==typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)},toggleBlockUser:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={statusType:t.chatInfo.isBlocked?4:3,actionTo:t.chatInfo.chatId.split("_")[0],userId:t.userId,muteNotification:t.chatInfo.muteNotification},t.isloadingUpdt=!0,e.next=4,k.updateUserStatus(a);case 4:s=e.sent,h()("#blockuser").removeClass("at-modalopen at-fadin"),h()(".at-chat_sidebarsetting").removeClass("at-chat_sidebarsettingopen"),h()(".at-chat_messages").removeClass("at-chat_messagesslide"),h()("body").css("overflow",""),"success"==s.data.type?t.$store.commit("UpdateSelectUserStatus",s.data.userData):"error"==s.data.type&&t.alertBox("error",t.TRANS.error_title,s.data.message_desc),t.isloadingUpdt=!1;case 11:case"end":return e.stop()}}),e)})))()},clearChat:function(){var t=this,e=this.chatInfo.chatId.split("_")[0],a=this.chatInfo.chatType,s=this.chatInfo.chatId,i={actionTo:1==a?e:"",chatId:s,userId:this.userId,chatType:a};this.isloadingUpdt=!0,this.axios.post("clear-guppy-chat",i).then((function(e){"success"==e.data.type?(t.isloadingUpdt=!1,h()("#clearchat").removeClass("at-modalopen at-fadin"),h()(".at-chat_sidebarsetting").removeClass("at-chat_sidebarsettingopen"),h()(".at-chat_messages").removeClass("at-chat_messagesslide"),h()("body").css("overflow",""),t.$store.dispatch("clearGuppyChat",i),t.$store.dispatch("triggerSocketEvents",{event:"clearChat",payload:i})):"error"==e.data.type&&t.alertBox("error",t.TRANS.error_title,e.data.message_desc)})).catch((function(e){t.isloadingUpdt=!1,console.log(e)}))}},mounted:function(){var t=this;this.$root.$on("croppedProfileImage",(function(e){t.setProfileImage(e)})),this.$root.$on("openPopUp",(function(e){t.openPopUp(e.type)})),this.$root.$on("closePopUp",(function(e){t.closePopUp(e.type)}))}}),Es=Ps,Bs=(a("90a2"),Object(J["a"])(Es,Ds,$s,!1,null,null,null)),Ws=Bs.exports,Vs={name:"App",components:{SidebarPopup:Ws,GuppyChatSidebar:ra,GuppyChatMessages:Us},data:function(){return{isRtl:!1,windowWidth:""}},computed:{css:function(){return"<style> :root { --primguppycolor: "+_.primaryColor+"; --secguppycolor: "+_.secondaryColor+"; --terguppycolor: "+_.textColor+"; } </style>"}},watch:{windowWidth:function(t,e){t!=e&&""!=e&&this.guppyAddClass()}},methods:{responsive:function(){h()(document).on("click",".conversation-list .at-userbar",(function(){h()(".at-chat_sidebarsetting").removeClass("at-chat_sidebarsettingopen"),h()(".at-chat_messages").removeClass("at-chat_messagesslide")}))},guppyAddClass:function(){var t=h()(".at-chat").width(),e=this.isRtl?"wpguppy-rtl":"",a=Number(this.userType)?"":"at-customer-support";t>=1440&&h()(".at-chat").attr("class","at-chat at-messanger-chat "+a),t<=1440&&h()(".at-chat").attr("class","at-chat at-chat1440 at-messanger-chat "+a),t<=1199&&h()(".at-chat").attr("class","at-chat at-chat1199 at-messanger-chat "+a),t<=1080&&h()(".at-chat").attr("class","at-chat at-chat1080 at-messanger-chat "+a),t<=991&&(h()(".at-chat").attr("class","at-chat at-chat991 at-messanger-chat "+a),h()(document).on("click",".conversation-list .at-userbar, .at-btn-respond",(function(){h()(".at-chat").addClass("at-opnchatbox")})),h()(document).on("click",".at-backtolist",(function(){h()(".at-chat").removeClass("at-opnchatbox")}))),h()(document).on("click",".at-messanger-chat ul.at-chat_sidebar_footer li",(function(){h()("ul.at-chat_sidebar_footer").css("width","70px")})),t<=640&&h()(".at-chat").attr("class","at-chat at-chat640 at-chat991 at-messanger-chat "+a),t<=575&&h()(".at-chat").attr("class","at-chat at-chat575 at-chat640 at-chat991 at-messanger-chat "+a),t<=480&&h()(".at-chat").attr("class","at-chat at-chat480 at-chat575 at-chat640 at-chat991 at-messanger-chat "+a),t<=420&&h()(".at-chat").attr("class","at-chat at-chat420 at-chat480 at-chat575 at-chat640 at-chat991 at-messanger-chat "+a),h()(".at-chat").addClass(e)},startChating:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={sendTo:t,userId:e.userId,startChat:1},e.isLoading=!0,a.next=4,k.sendGuppyInvite(s);case 4:i=a.sent,i&&("success"==i.data.type?i.data.autoInvite&&(_.socketEnable||e.$store.commit("startChat",{friendData:i.data.friendData,messagelistData:i.data.messagelistData})):"error"==i.data.type&&(e.$store.commit("toggleMessagesScr",{isEmptyView:!0,isOpenMessagesScr:!1}),r=i.data.message_desc?i.data.message_desc:e.TRANS.input_params_err,e.alertBox("error",e.TRANS.error_title,r)));case 6:case"end":return a.stop()}}),a)})))()},getMessangerChatInfo:function(t,e){var a=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){var i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i={chatId:t,chatType:e,userId:a.userId},s.next=3,k.getMessangerChatInfo(i);case 3:r=s.sent,"success"==r.data.type&&""!=r.data.chatInfo?a.$store.commit("updateChatInfo",{data:r.data.chatInfo}):"error"==r.data.type&&(a.alertBox("error",a.TRANS.error_title,r.data.message_desc),a.$store.commit("toggleMessagesScr",{isEmptyView:!0,isOpenMessagesScr:!1}));case 5:case"end":return s.stop()}}),s)})))()}},mounted:function(){this.responsive(),this.guppyAddClass();var t=h()(".at-chat").width();this.$store.commit("updateWindowWidth",{windowWidth:t})},created:function(){var t=this;this.$store.commit("updateWidgetType",{isMessangerChat:!0});var e=window.location.search.substring(1),a=new URLSearchParams(e),s=a.get("chat_id"),i=a.get("chat_type"),r=a.get("type");"messanger"==r&&i&&s?(this.$store.commit("toggleMessagesScr",{isEmptyView:!1,isOpenMessagesScr:!0}),this.getMessangerChatInfo(s,i)):s&&Number(s)>0&&1==i&&(this.$store.commit("toggleMessagesScr",{isEmptyView:!1,isOpenMessagesScr:!0}),this.startChating(s)),window.addEventListener("resize",(function(){t.windowWidth=h()(".at-chat").width()})),h()("head").prepend(this.css),this.isRtl=_.isRtl,this.$store.dispatch("initRealTimeChatSetting",{authToken:window.wpguppy_scripts_vars.authToken})}},Fs=Vs,qs=(a("edda"),Object(J["a"])(Fs,W,V,!1,null,"9167796c",null)),Gs=qs.exports,Hs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-guppysidepopup at-chat at-user-chat",class:{"wpguppy-rtl":t.isRtl,"gp-whatsappsidepopup gp-chat gp-layout-one":t.isWhatsappChat,"gp-whatsappside-responsive":t.isMobileView,"at-guppyside-responsive":t.window_idth<=768&&!t.isWhatsappChat,"at-customer-support":!Number(t.userType)}},[a("div",{staticClass:"at-chatsidebar_float at-chatsidebar-widgetclose gp-users-list gp-layout-overlay"},[a("div",{staticClass:"at-chat_previewfloat gp-chat_previewfloat"},[a("guppy-chat-sidebar"),t.isMessangerChat&&!t.isWhatsappChat?a("guppy-chat-messages"):t._e()],1)]),a("div",{staticClass:"at-chatfloatholder"},[a("floating-chats"),t.isShowWidget?[a("div",{staticClass:"at-chatfloat"},[a("span",{on:{click:function(e){return t.minimizeList()}}},[t._m(0)])])]:t.floatingWidgetEnable&&t.floatingMessenger?[a("ul",{staticClass:"at-chatfloatlist at-chatfloatlist_circle"},[t.whatsappSupportEnable?a("li",{style:{marginBottom:t.widgetCircle1},on:{click:function(e){return e.preventDefault(),t.toggleWhatsappChat()}}},[a("a",{staticClass:"at-whatsapp_chat",attrs:{href:"javascript:void(0);",id:"at-whatsappchatopen"}},[a("whatsapp-image",{attrs:{ImageColor:"white"}})],1)]):t._e(),a("li",{staticClass:"at-theme_chat",style:{marginBottom:t.widgetCircle2,opacity:t.itemOpacity},on:{click:function(e){return e.preventDefault(),t.showChatWidget()}}},[t._m(1)])]),a("div",{staticClass:"at-chatfloat",on:{click:function(e){return e.preventDefault(),t.toggleWidgetChat()}}},[a("span",[t.isMobileView&&t.getTotalUnreadCount?a("em",{staticClass:"at-userchat_tab-noti"},[t._v(t._s(t.getTotalUnreadCount>99?"+99":t.getTotalUnreadCount))]):t._e(),a("a",{attrs:{id:"at-float_widget_icon",href:"javascript:void(0);"}},[a("i",{staticClass:"guppy-x"}),a("img",{attrs:{src:t.floatingIcon,alt:"floating button"}})])])])]:t.whatsappSupportEnable?a("div",{staticClass:"at-chatfloat at-whatsappgp"},[a("span",[a("a",{attrs:{href:"javascript:void(0);",id:"at-whatsappchatopen"},on:{click:function(e){return e.preventDefault(),t.toggleWhatsappChat()}}},[a("whatsapp-image",{attrs:{ImageColor:"white"}})],1)])]):t._e()],2),a("sidebar-popup")],1)},zs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{id:"at-float_widget_close",href:"javascript:void(0);"}},[a("i",{staticClass:"guppy-x"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"javascript:void(0);",id:"at-themechatopen"}},[a("i",{staticClass:"guppy-message-square"})])}],Qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.minimizeChats.topChats.length?a("ul",{staticClass:"at-floatimglist"},[t._l(t.minimizeChats.topChats,(function(e){return a("li",{key:e.chatId},[a("a",{attrs:{href:"javascript:void(0);"}},[[1,3].includes(Number(e.chatType))?[a("img",{attrs:{src:e.userAvatar?e.userAvatar:t.defaultAvatar,alt:e.userName},on:{click:function(a){return a.preventDefault(),t.minimizeWidgetChatbox(e.chatId)}}}),a("span",{staticClass:"at-infotolltip"},[a("em",[t._v(t._s(e.userName))])])]:t._e(),a("i",{staticClass:"guppy-x",on:{click:function(a){return a.preventDefault(),t.closeWidgetChatbox(e.chatId)}}}),e.UnreadCount>0?a("span",{staticClass:"at-userstatus notify"}):t._e()],2)])})),t.minimizeChats.bottomChats.length?a("li",[a("a",{attrs:{href:"javascript:void(0);",id:"at_moreitems"},on:{click:function(e){return e.preventDefault(),t.toggleUsersMenue(!t.isOpenMenu)}}},[a("em",[a("i",{class:t.isOpenMenu?"guppy-x":"guppy-more-horizontal"})])]),a("div",{staticClass:"at-floatdropdownholder"},[a("ul",{staticClass:"at-floatdropdown"},t._l(t.minimizeChats.bottomChats,(function(e){return a("li",{key:e.chatId},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){return a.preventDefault(),t.minimizeWidgetChatbox(e.chatId)}}},[[1,3].includes(e.chatType)?[a("img",{attrs:{src:e.userAvatar?e.userAvatar:t.defaultAvatar,alt:e.userName}})]:t._e()],2)])})),0),a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.closeAllChats()}}},[a("i",{staticClass:"guppy-x"}),t._v(t._s(t.TRANS.close_all_conversation)+" ")])])]):t._e()],2):t._e(),Object.keys(t.chats).length?t._l(t.chats,(function(t){return a("guppywidget-chat-box",{key:t.chatId,attrs:{chatId:t.chatId}})})):[t.enableWhatsappWidgetBox?a("whatsapp-chat-box"):t.isOpenSignInWindow?a("sign-in-box",{on:{closeSignInWindow:function(e){t.isOpenSignInWindow=!1}}}):t._e()]],2)},Zs=[],Ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-floatchat",class:t.floatChatClass,attrs:{id:"floatchat_"+t.chatId}},[a("div",{staticClass:"at-floatchat_content"},[a("guppywidget-chat-box-header",{attrs:{chatInfo:t.chatInfo}}),a("messages-container",{attrs:{chatId:t.chatId}}),a("guppywidget-chat-box-footer",{attrs:{chatInfo:t.chatInfo}})],1)])},Js=[],Xs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-floatchat_title"},[[1,3].includes(Number(t.chatInfo.chatType))?a("figure",{staticClass:"at-singleimg"},[a("img",{attrs:{src:t.chatInfo.userAvatar?t.chatInfo.userAvatar:t.defaultAvatar,alt:"profile image"}}),a("span",{staticClass:"at-userstatus",class:t.chatInfo.isOnline&&1==t.userType?"online":"offline"})]):t._e(),a("h2",[a("em",[t._v(t._s(t.title))])]),a("div",{staticClass:"at-floatchat_title-right"},[a("div",{staticClass:"at-floatchatdropdownholder"},[a("a",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeMenu,expression:"closeMenu"}],staticClass:"at-floatchatdrop",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.toggleMenu()}}},[a("i",{staticClass:"guppy-chevron-down"})]),a("div",{staticClass:"at-floatchatdropdown",staticStyle:{display:"none"},attrs:{id:"dropdown_"+t.chatId}},[a("div",{staticClass:"at-chat_sidebarsettingcontent at-openmsg"},[a("a",{attrs:{href:t.messangerPage,target:"_blank"}},[a("i",{staticClass:"guppy-external-link"}),t._v(t._s(t.TRANS.open_in_messenger))])]),1==t.chatInfo.chatType?[a("div",{staticClass:"at-chat_sidebarsettingcontent"},[a("h4",[t._v(t._s(t.TRANS.actions))]),a("a",{class:{"at-disable-btn":t.notificationLoader},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.muteNotification()}}},[t._v(" "+t._s(t.muteChatNotify?t.TRANS.unmute_conversation:t.TRANS.mute_conversation)+" ")])]),a("div",{staticClass:"at-chat_sidebarsettingcontent"},[a("h4",[t._v(t._s(t.TRANS.privacy_settings))]),[t.chatInfo.isBlocked?[t.chatInfo.blockedId!=t.userId?a("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#blockuser"},on:{click:function(e){return e.preventDefault(),t.updateSelectChatId()}}},[t._v(" "+t._s(t.TRANS.unblock_user)+" ")]):t._e()]:[a("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#blockuser"},on:{click:function(e){return e.preventDefault(),t.updateSelectChatId()}}},[t._v(" "+t._s(t.TRANS.block_user)+" ")])]],t.isAllowClearChat?a("a",{staticClass:"at-danger",attrs:{href:"javascript:void(0);","guppy-data-target":"#clearchat"},on:{click:function(e){return e.preventDefault(),t.updateSelectChatId()}}},[t._v(" "+t._s(t.TRANS.clear_chat)+" ")]):t._e()],2)]:t._e()],2)]),t.isMobileView?t._e():a("a",{staticClass:"at-minimize",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.minimizeWidgetChatbox()}}},[a("i",{staticClass:"guppy-minus",attrs:{id:"guppy-minus"+t.chatId}})]),a("a",{staticClass:"at-removechat",attrs:{href:"javascript:void(0);"}},[a("i",{staticClass:"guppy-x",on:{click:function(e){return e.preventDefault(),t.closeWidgetChatbox()}}})])])])},Ks=[],ti={name:"GuppywidgetChatBoxHeader",props:["chatInfo"],data:function(){return{chatId:this.chatInfo.chatId,notificationLoader:!1,defaultAvatar:I.AVATAR,messangerPage:""!=_.messangerPage?_.messangerPage+_.messangerPageSeprator+"chat_type="+this.chatInfo.chatType+"&chat_id="+this.chatInfo.chatId+"&type=messanger":window.location.href}},computed:Object(c["a"])(Object(c["a"])({},Object(u["c"])({isMobileView:function(t){return t.isMobileView}})),{},{muteChatNotify:function(){return this.$store.getters.muteChatNotify(this.chatId)},title:function(){return[1,3].includes(Number(this.chatInfo.chatType))?this.chatInfo.userName:""},isAllowClearChat:function(){return _.clearChatOption}}),methods:{updateSelectChatId:function(){this.$store.commit("updateSelectedChatId",{chatId:this.chatInfo.chatId}),this.toggleMenu()},closeWidgetChatbox:function(){h()("#floatchat_".concat(this.chatId)).addClass("at-minimizefloatchat"),this.$store.commit("closeWidgetChatbox",{chatId:this.chatId})},minimizeWidgetChatbox:function(){h()("#guppy-minus"+this.chatId).parents(".at-floatchat").addClass("at-minimizefloatchat"),this.$store.commit("minimizeWidgetChatbox",{chatId:this.chatId,isMinimize:!0}),0==this.userType&&this.$root.$emit("toggleSignInWindow",!1)},toggleMenu:function(){h()("#dropdown_".concat(this.chatId)).slideToggle()},closeMenu:function(){h()("#dropdown_".concat(this.chatId)).slideUp()},muteNotification:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.chatInfo.chatId.split("_")[0],s={muteType:0,userId:t.userId,chatId:t.chatInfo.chatId,chatType:t.chatInfo.chatType,actionTo:a},t.notificationLoader=!0,e.next=5,N.muteNotification(s);case 5:i=e.sent,t.notificationLoader=!1,"error"==i.data.type&&t.alertBox("error",t.TRANS.error_title,i.data.desc);case 8:case"end":return e.stop()}}),e)})))()}}},ei=ti,ai=Object(J["a"])(ei,Xs,Ks,!1,null,null,null),si=ai.exports,ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.chatInfo.isBlocked&&t.chatInfo.blockedId==t.userId?a("div",{staticClass:"at-chatblockuser"},[a("span",[t._v(" "+t._s(t.TRANS.you_are_blocked)+" ")])]):t.chatInfo.isBlocked&&t.chatInfo.blockedId!=t.userId?a("div",{staticClass:"at-chatblockuser"},[a("runtime-template-compiler",{attrs:{template:t.unblockButtonText}})],1):[a("div",{staticClass:"at-replay",class:{"at-replay_disable":t.isDisabledFooter(t.chatInfo.chatId)}},[t.quoteMessage?a("guppy-chat-quoted-messages",{attrs:{quoteMsgProps:t.quoteMessage},on:{removeQuoteMessage:function(e){return t.removeQuote()}}}):t._e(),a("span",{staticClass:"at-typing",domProps:{innerHTML:t._s(t.typingUsers)}}),a("div",{staticClass:"at-widgetreply"},[a("send-text-message",{attrs:{chatId:t.chatInfo.chatId}}),t.inputTypingText?a("a",{staticClass:"at-sendmsg-responsive",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.sendTextMessage()}}},[a("i",{staticClass:"guppy-send"})]):t._e()],1)],1)],t._m(0)],2)},ri=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"at-chat_sidebar_footervtwo"},[a("li"),a("li")])}],ni={name:"GuppywidgetChatBoxFooter",components:{GuppyChatQuotedMessages:Na,SendTextMessage:Ea},props:{chatInfo:{type:Object,required:!0,default:function(){return new Object}}},computed:Object(c["a"])({inputTypingText:function(){return this.$store.getters.getMessageInput(this.chatInfo.chatId)},unblockButtonText:function(){var t=w.blocked_user_message,e=w.unblock_now,a='<a href="javascript:;" @click.prevent="updateSelectChatId()" guppy-data-target="#blockuser">'+e+" </a>",s="<span>".concat(t.replace("%Unblock%",a),"</span>");return s},typingUsers:function(){var t=this.$store.getters.typingUsersIndicatorText(this.chatInfo.chatId),e=w.is_typing,a=w.are_typing,s=w.more_user_typing,i=t.indicator,r=t.typingUsers,n=t.tUsers,o="";if(n){if("isTypingText"==i&&r)o='<em class="at-typing-name">'.concat(r,"</em>").concat(e);else if("areTypingText"==i&&r)o='<em class="at-typing-name">'.concat(r,"</em>").concat(a);else{var c='<em class="at-typing-name">'.concat(r,"</em>").concat(s);o=c.replace("((user_count))",Number(n)-3)}o+='<em><img src="'+_.typingIcon+'" alt="users typing"></em>'}return o},quoteMessage:function(){return this.$store.getters.getQuoteMessage(this.chatInfo.chatId)},quoteMessageId:function(){return this.$store.getters.getQuoteMessageId()}},Object(u["b"])({isDisabledFooter:"isDisabledFooter"})),methods:{sendTextMessage:function(){var t=document.getElementById("input-text-message-".concat(this.chatInfo.chatId));t&&t.focus(),this.$root.$emit("sendMessage",{chatId:this.chatInfo.chatId})},updateSelectChatId:function(){this.$store.commit("updateSelectedChatId",{chatId:this.chatInfo.chatId})},removeQuote:function(){this.$store.commit("removeQuote",{chatId:this.chatInfo.chatId})}}},oi=ni,ci=(a("e9fe"),Object(J["a"])(oi,ii,ri,!1,null,"4e208769",null)),ui=ci.exports,li={name:"GuppywidgetChatBox",props:["chatId"],components:{GuppywidgetChatBoxHeader:si,GuppywidgetChatBoxFooter:ui,MessagesContainer:js},computed:{chatInfo:function(){return this.$store.getters.getChatInfo(this.chatId)},quoteMessage:function(){return this.$store.getters.getQuoteMessage(this.chatId)},floatChatClass:function(){var t=this.$store.getters.getQuoteMessage(this.chatId),e="";return t&&(e="at-floatchat-reply"),e}}},pi=li,di=Object(J["a"])(pi,Ys,Js,!1,null,null,null),hi=di.exports,fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gp-floatchat gp-whatsappfloat",attrs:{id:"whatsappchat_"+t.chatInfo.chatId}},[a("div",{staticClass:"gp-floatchat_content gp-whatsappchat gp-widget-box"},[a("div",{staticClass:"gp-floatchat_title gp-floatchat_titlev2"},[a("figure",{staticClass:"gp-singleimg",class:{"gp-notavailable":!t.chatInfo.isOnline}},[a("img",{attrs:{src:t.chatInfo.userAvatar?t.chatInfo.userAvatar:t.defaultAvatar,alt:t.chatInfo.userName}}),a("span",{staticClass:"gp-userstatus",class:t.chatInfo.isOnline?"online":"offline"})]),a("div",{staticClass:"gp-whatsapptitle"},[t.chatInfo.userName?a("h2",[t._v(t._s(t._f("capitalize")(t.chatInfo.userName)))]):t._e(),a("div",{staticClass:"gp-floatchat_title-right"},[a("a",{attrs:{href:"javascript:void(0);"}},[a("i",{staticClass:"guppy-x",on:{click:function(e){return e.preventDefault(),t.closeWidgetChatbox()}}})])])])]),a("div",{staticClass:"gp-messagewrap",style:t.chatBackround},[t.isLoading?a("div",{staticClass:"gp-msgautotyper"},[a("img",{attrs:{src:t.typingIcon,alt:t.TRANS.whatsapp_loading_msg}})]):a("div",{staticClass:"gp-messages"},[a("div",{staticClass:"gp-message"},[a("span",{directives:[{name:"linkified",rawName:"v-linkified"}],domProps:{innerHTML:t._s(t.userMessageText)}}),a("span",{staticClass:"gp-message_time"},[t._v(t._s(t.currentTime))])])])]),a("div",{staticClass:"at-replay at-replaywt"},[a("send-text-message",{attrs:{chatId:"00_4"}}),a("span",[t.getMessageInput?a("a",{staticClass:"at-send",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.sendTextMessage()}}},[a("i",{staticClass:"guppy-send"})]):t._e()])],1)])])},gi=[];s["a"].directive("linkified",B.a);var mi={name:"GuppyWhatsappChatBox",components:{SendTextMessage:Ea},data:function(){return{defaultAvatar:I.AVATAR,currentTime:M()().format("LT"),typingIcon:_.typingIcon,whatsappBackground:_.whatsappBackground}},computed:{chatBackround:function(){return this.whatsappBackground?{backgroundImage:"url(".concat(this.whatsappBackground,")")}:{backgroundColor:"#F7F1E7"}},chatInfo:function(){return this.$store.getters.getChatInfo("00_4")},getMessageInput:function(){return this.$store.getters.getMessageInput("00_4")},userMessageText:function(){var t=this.$store.getters.getChatInfo("00_4");return Object.keys(t).length?t.isOnline?t.userDefaultMessage:t.userOfflineMessage:""}},watch:{chatInfo:function(t,e){t.chatId!=e.chatId&&t.isOnline&&(this.isLoading=!0,this.loadingMessage())}},methods:{sendTextMessage:function(){document.getElementById("input-text-message-".concat(this.chatInfo.chatId)).focus(),this.$root.$emit("openWhatsapp",{chatId:this.chatInfo.chatId})},closeWidgetChatbox:function(){h()(".gp-chat").removeClass("gp-opnchatbox"),this.$store.commit("removeChatInfo",{chatId:"00_4"})},loadingMessage:function(){var t=this;setTimeout((function(){t.isLoading=!1}),2e3)}},created:function(){this.chatInfo.isOnline&&(this.isLoading=!0,this.loadingMessage())}},vi=mi,Ci=(a("79ab"),Object(J["a"])(vi,fi,gi,!1,null,"9a02c88c",null)),bi=Ci.exports,yi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-sidbarwrapper at-userlist_tab at-contacts_list"},[a("div",{staticClass:"at-chatfloatholder"},[a("div",{staticClass:"at-floatchat at-signin"},[a("div",{staticClass:"at-floatchat_content"},[a("div",{staticClass:"at-floatchat_title"},[a("h2",[t._v(t._s(t.TRANS.signin_box_hdr_txt))]),a("div",{staticClass:"at-floatchat_title-right"},[a("a",{staticClass:"at-removechat",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.$root.$emit("toggleSignInWindow",!1)}}},[a("i",{staticClass:"guppy-x"})])])]),a("form",{staticClass:"at-themeform at-floatsignin"},[a("fieldset",["guest"==t.selectedTab?[a("guest-user-login")]:"real"==t.selectedTab?[a("real-user-login")]:t._e()],2)]),t.userId?t._e():a("ul",{staticClass:"at-joinnow"},["real"==t.selectedTab?a("li",{on:{click:function(e){e.preventDefault(),t.selectedTab="guest"}}},[a("span",[t._v(t._s(t.TRANS.dont_have_account_txt)+" "),a("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.TRANS.guest_login_txt))])])]):t._e(),"guest"==t.selectedTab?a("li",{on:{click:function(e){e.preventDefault(),t.selectedTab="real"}}},[a("span",[t._v(t._s(t.TRANS.have_account_txt)+" "),a("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.TRANS.login_txt))])])]):t._e()])])])])])},Ii=[],_i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-form-group-wrap"},[a("div",{staticClass:"at-form-group"},[a("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.name_txt))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.guestName,expression:"data.guestName"}],staticClass:"at-form-control",attrs:{type:"text",required:"",placeholder:t.TRANS.name_txt},domProps:{value:t.data.guestName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn()},input:function(e){e.target.composing||t.$set(t.data,"guestName",e.target.value)}}})]),a("div",{staticClass:"at-form-group"},[a("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.email))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.guestEmail,expression:"data.guestEmail"}],staticClass:"at-form-control",attrs:{type:"email",required:"",placeholder:t.TRANS.email},domProps:{value:t.data.guestEmail},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn()},input:function(e){e.target.composing||t.$set(t.data,"guestEmail",e.target.value)}}})]),a("div",{staticClass:"at-form-group"},[a("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isloading},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.signIn()}}},[t._v(t._s(t.TRANS.start_chat_text))])])])},Si=[],wi={name:"GuestUserLogin",data:function(){return{data:{guestName:"",guestEmail:""},isloading:!1}},methods:{signIn:function(){var t=this;this.isloading||(this.isloading=!0,this.data.guestName&&this.data.guestEmail?k.validateEmail(this.data.guestEmail)?this.axios.post("register-guppy-account",this.data).then((function(e){if(t.isloading=!1,"success"==e.data.type){var a=e.data;t.axios.defaults.headers.common["Authorization"]="Bearer "+a.authToken,t.$store.commit("updateUserInfo",{userId:a.userId,userType:0}),t.$root.$emit("openFloatingTab"),t.$root.$emit("toggleSignInWindow",!1),t.$store.dispatch("initRealTimeChatSetting",{authToken:a.authToken}),N.getGuestUserInfo()}else t.alertBox("error",t.TRANS.error_title,e.data.message_desc)})).catch((function(e){t.isloading=!1,t.errors=e,t.alertBox("error",t.TRANS.error_title,t.TRANS.input_params_err)})):(this.isloading=!1,this.alertBox("error",this.TRANS.error_title,this.TRANS.invalid_email)):(this.isloading=!1,this.alertBox("error",this.TRANS.error_title,this.TRANS.empty_input_err_txt)))}}},Ti=wi,Li=Object(J["a"])(Ti,_i,Si,!1,null,null,null),Mi=Li.exports,ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"at-form-group-wrap"},[a("div",{staticClass:"at-form-group"},[a("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.email))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.username,expression:"data.username"}],staticClass:"at-form-control",attrs:{type:"text",required:"",placeholder:t.TRANS.email},domProps:{value:t.data.username},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn()},input:function(e){e.target.composing||t.$set(t.data,"username",e.target.value)}}})]),a("div",{staticClass:"at-form-group"},[a("label",{staticClass:"at-formtitle at-important"},[t._v(t._s(t.TRANS.password))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.userpassword,expression:"data.userpassword"}],staticClass:"at-form-control",attrs:{type:"password",required:"",placeholder:t.TRANS.password},domProps:{value:t.data.userpassword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn()},input:function(e){e.target.composing||t.$set(t.data,"userpassword",e.target.value)}}})]),a("div",{staticClass:"at-form-group"},[a("a",{staticClass:"at-btn",class:{"at-disable-btn":t.isloading},attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.signIn()}}},[t._v(t._s(t.TRANS.start_chat_text))])])])},Ai=[],Oi={name:"RealUserLogin",data:function(){return{data:{userpassword:"",username:""},isloading:!1}},methods:{signIn:function(){var t=this;this.isloading||(this.isloading=!0,this.data.username&&this.data.userpassword?this.axios.post("user-login",this.data).then((function(e){if(t.isloading=!1,"success"==e.data.type){var a=e.data;t.axios.defaults.headers.common["Authorization"]="Bearer "+a.authToken,t.$store.commit("refreshSupportChats");var s=!0;N.getProfileInfo(),"0"==t.userType&&t.$store.state.windowWidth>768&&(s=!1),t.$store.commit("updateUserInfo",{userId:a.userInfo.userId,userType:1,isSupportMember:a.isSupportMember}),t.$root.$emit("toggleSignInWindow",!1),s&&t.$root.$emit("openFloatingTab"),t.$store.dispatch("initRealTimeChatSetting",{authToken:a.authToken})}else t.alertBox("error",t.TRANS.error_title,e.data.message)})).catch((function(e){t.isloading=!1,t.errors=e,t.alertBox("error",t.TRANS.error_title,t.TRANS.input_params_err)})):(this.isloading=!1,this.alertBox("error",this.TRANS.error_title,this.TRANS.empty_input_err_txt)))}}},ji=Oi,xi=Object(J["a"])(ji,ki,Ai,!1,null,null,null),Ni=xi.exports,Ri={name:"SignInBox",components:{GuestUserLogin:Mi,RealUserLogin:Ni},data:function(){return{selectedTab:"real"}}},Ui=Ri,Di=Object(J["a"])(Ui,yi,Ii,!1,null,null,null),$i=Di.exports,Pi={name:"GuppyFloatingChatList",components:{WhatsappChatBox:bi,GuppywidgetChatBox:hi,SignInBox:$i},data:function(){return{isOpenMenu:!1,isOpenSignInWindow:!1,defaultAvatar:I.AVATAR}},computed:{enableWhatsappWidgetBox:function(){var t=new Object;return this.$store.state.isMessangerChat||(t=this.$store.getters.getChatInfo("00_4")),!!Object.keys(t).length},minimizeChats:function(){var t=h()(window).height(),e=7;t<=800?e=5:t<770&&(e=3);var a={topChats:[],bottomChats:[]},s=this.$store.getters.minimizeChats;return a.topChats=s.slice(0,e),a.bottomChats=s.slice(e,s.length),a},chats:function(){return this.$store.getters.widgetChats}},methods:{toggleUsersMenue:function(t){this.isOpenMenu=t,h()(".at-floatdropdownholder").slideToggle(200)},minimizeWidgetChatbox:function(t){this.$store.commit("minimizeWidgetChatbox",{chatId:t,isMinimize:!1}),this.isOpenMenu=!1,h()(".at-floatdropdownholder").hide()},closeWidgetChatbox:function(t){this.$store.commit("closeWidgetChatbox",{chatId:t})},closeAllChats:function(){this.$store.commit("updateChatInfo",{})}},created:function(){this.$store.dispatch("initRealTimeChatSetting",{authToken:window.wpguppy_scripts_vars.authToken})},mounted:function(){var t=this;this.$root.$on("toggleSignInWindow",(function(e){e&&t.$store.commit("updateChatInfo",{}),t.isOpenSignInWindow=e}))}},Ei=Pi,Bi=(a("26c2"),Object(J["a"])(Ei,Qs,Zs,!1,null,"50805430",null)),Wi=Bi.exports,Vi={name:"widgetChatApp",components:{SidebarPopup:Ws,FloatingChats:Wi,GuppyChatSidebar:ra,GuppyChatMessages:Us,WhatsappImage:Ae},data:function(){return{isRtl:!1,isShowWidget:!1,floatingIcon:_.floatingIcon,isMobileDevice:_.isMobileDevice,floatingWidgetEnable:_.floatingWindowEnable,whatsappSupportEnable:_.whatsappSupportEnable,floatingMessenger:_.floatingMessenger,isWhatsappClick:!1,widgetCircle1:"-49px",widgetCircle2:"-80px",openWidget:!1,itemOpacity:0,window_idth:""}},computed:Object(c["a"])(Object(c["a"])({},Object(u["c"])({isMessangerChat:function(t){return t.isMessangerChat},isWhatsappChat:function(t){return t.isWhatsappChat},isMobileView:function(t){return t.isMobileView}})),{},{getTotalUnreadCount:function(){return this.$store.getters.getTotalUnreadCount},css:function(){return"<style> :root { --primguppycolor: "+_.primaryColor+"; --secguppycolor: "+_.secondaryColor+"; --terguppycolor: "+_.textColor+"; } </style>"}}),methods:{minimizeList:function(){h()(".at-chatsidebar_float").addClass("at-chatsidebar-widgetclose"),this.isShowWidget=!1,this.widgetCircle1="-49px",this.widgetCircle2="-80px",this.itemOpacity=0,this.openWidget=!1,h()("#at-float_widget_icon").removeClass("at-float-icon"),h()(".gp-conversation-list").removeClass("active"),h()("html").css("overflow","")},toggleWhatsappChat:function(){this.isWhatsappClick=!0,this.$store.commit("updateChatInfo",{}),this.$root.$emit("toggleSignInWindow",!1),this.showChatWidget(!0)},toggleWidgetChat:function(){this.openWidgetChat()},closeWidgetChat:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.userId){e.next=6;break}return t.showChatWidget(),e.next=4,t.timeout(500);case 4:t.isWhatsappClick=!1,t.$store.commit("updateWidgetType",{isWhatsappChat:!1});case 6:case"end":return e.stop()}}),e)})))()},guppyAddClass:function(){var t=h()(".at-chat").width();t<=768&&(h()(".at-guppysidepopup").addClass("at-guppyside-responsive"),h()(document).on("click",".at-onlineusers .at-userbar, .conversation-list .at-userbar, .at-guppysidepopup .user-list .at-btn-respond",(function(){h()(".at-chat").addClass("at-opnchatbox")}))),h()(document).on("click",".at-backtolist",(function(){h()(".at-chat").removeClass("at-opnchatbox")})),h()(document).on("click",".at-chat_previewfloat ul.at-chat_sidebar_footer li",(function(){h()("ul.at-chat_sidebar_footer").css("width","60px")}))},whatsappAddClass:function(){var t=h()(".gp-chat").width();t<=768&&(h()(".gp-whatsappsidepopup").addClass("gp-whatsappside-responsive"),h()(document).on("click",".gp-whatsappsidepopup .conversation-list .gp-whatsappsidepopup .user-list .gp-btn-respond",(function(){h()(".gp-chat").addClass("gp-opnchatbox")}))),h()(document).on("click",".gp-backtolist",(function(){h()(".gp-chat").removeClass("gp-opnchatbox")}))},timeout:function(t){return new Promise((function(e){return setTimeout(e,t)}))},openWidgetChat:function(){this.whatsappSupportEnable?(this.openWidget?(this.widgetCircle1="-49px",this.widgetCircle2="-80px",this.itemOpacity=0):(this.widgetCircle1="",this.widgetCircle2="",this.itemOpacity=1),this.openWidget=!this.openWidget,h()("#at-float_widget_icon").toggleClass("at-float-icon")):this.showChatWidget()},showChatWidget:function(){var t=arguments,e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.length>0&&void 0!==t[0]&&t[0],s||e.userId){a.next=6;break}e.$root.$emit("toggleSignInWindow",!0),e.minimizeList(),a.next=25;break;case 6:if(i=h()(".at-chat").width(),h()(".at-floatdropdownholder").hide(),h()(".at-chatsidebar_float").toggleClass("at-chatsidebar-widgetclose"),!e.isShowWidget){a.next=15;break}return a.next=12,e.timeout(500);case 12:e.isShowWidget=!1,a.next=16;break;case 15:e.isShowWidget=!0;case 16:if(e.isMobileDevice&&(e.isShowWidget?h()("html").css("overflow","hidden"):h()("html").css("overflow","")),r=!1,i<=768&&!s&&(r=!!e.isShowWidget),e.$store.commit("updateWidgetType",{isMessangerChat:r,isWhatsappChat:!!s}),e.isWhatsappClick=!1,!s){a.next=25;break}return a.next=24,e.timeout(300);case 24:h()(".gp-conversation-list").addClass("active");case 25:case"end":return a.stop()}}),a)})))()}},created:function(){h()("head").prepend(this.css);var t=h()(window).width();this.window_idth=t;var e=!1;t<768&&(e=!0),this.$store.commit("updateWidgetType",{isMobileView:e,isfloatingChat:!0}),this.isRtl=_.isRtl,this.$store.commit("updateWindowWidth",{windowWidth:t})},mounted:function(){var t=this;this.guppyAddClass(),this.whatsappAddClass(),this.$root.$on("showWidget",(function(){t.minimizeList()})),this.$root.$on("openFloatingTab",(function(){t.showChatWidget()}))}},Fi=Vi,qi=Object(J["a"])(Fi,Hs,zs,!1,null,null,null),Gi=qi.exports,Hi=a("7399"),zi=(a("dee1"),a("6787")),Qi=a("f9d5"),Zi=a.n(Qi);a("4413");s["a"].directive("linkified",B.a),s["a"].use(Hi["a"]),s["a"].use(zi["a"]),r.a.defaults.baseURL=window.wpguppy_scripts_vars.restapiurl,r.a.defaults.headers.common["Authorization"]="Bearer "+window.wpguppy_scripts_vars.authToken,s["a"].use(Zi.a),s["a"].use($["a"],r.a),s["a"].config.productionTip=!0,s["a"].mixin(P),s["a"].directive("click-outside",{bind:function(t,e,a){t.clickOutsideEvent=function(s){t==s.target||t.contains(s.target)||a.context[e.expression](s)},document.body.addEventListener("click",t.clickOutsideEvent)},unbind:function(t){document.body.removeEventListener("click",t.clickOutsideEvent)}}),s["a"].filter("capitalize",(function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""})),h()("#wpguppy-messanger-chat").length&&window.wpguppy_scripts_vars.userId?new s["a"]({store:D,render:function(t){return t(Gs)}}).$mount("#wpguppy-messanger-chat"):h()("#wpguppy-widget-chat").length&&new s["a"]({store:D,render:function(t){return t(Gi)}}).$mount("#wpguppy-widget-chat")},"5e1b":function(t,e,a){"use strict";a("0613")},"69fe":function(t,e,a){},"6db5":function(t,e,a){"use strict";a("81ed")},"727a":function(t,e,a){},7423:function(t,e,a){},"78f5":function(t,e,a){},"79ab":function(t,e,a){"use strict";a("d8b4")},"81ed":function(t,e,a){},8276:function(t,e,a){"use strict";a("dcf8")},"879f":function(t,e,a){"use strict";a("36f9")},"8aab":function(t,e,a){"use strict";a("2959")},"8fe2":function(t,e,a){"use strict";a("46df")},"90a2":function(t,e,a){"use strict";a("69fe")},"91a7":function(t,e,a){"use strict";a("c7b3")},"993c":function(t,e,a){},"9aee":function(t,e,a){},a410:function(t,e,a){"use strict";a("dbd9")},aad0:function(t,e,a){},abec:function(t,e,a){"use strict";a("19a9")},ad21:function(t,e,a){"use strict";a("0197")},af10:function(t,e,a){"use strict";a("727a")},b74a:function(t,e,a){"use strict";a("78f5")},c7b3:function(t,e,a){},d79f:function(t,e,a){"use strict";a("e2e5")},d83b:function(t,e,a){"use strict";a("9aee")},d8b4:function(t,e,a){},dbd9:function(t,e,a){},dcf8:function(t,e,a){},e2e5:function(t,e,a){},e469:function(t,e,a){},e6d0:function(t,e,a){"use strict";a("7423")},e893f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANVSURBVHgB7ZtNTiJBFMdfd6MMfiTqRjcajG50gzeY2bkyM+MJ9AZzA/UEZk7g3GCcxI3sXLOBDbAhMrCBDZDwDQnM+/ekSA8DolYXDdX8Emzp0NC/qnqvqqu7DBpBv9/faDabF6ZpfuT/T3hXmOaDrGEYcT7nX6FQ6MeoDxjDO+r1+hc+6I5fGzTfZPl1MyxuOt+0Wq1brtWfGsiCML/uuKVeOXcOhNvt9hU3hW+kH9eNRuNWvLGbdK1Wu7As6440ptfrfV1dXb23hbnan2l+EtO74DCtBIPBfQu1y3F7QfrzodvtFs1AIPCZ/MMnk9t2mHwCN+uIwfHbJx9hks9YCOvOQlh3AuQCnU6HMpmMvVXB8vIy7e7u0traGski3S2lUimKx+N0eHhon5gKeDRIhUKBjo+P6ejoiGSQqmGcSDKZpLOzM1dKf9JvPTw80MHBgVTBSsVwPp+nnZ0d5bIAvwFZhI4MUsKI2WnIClCzsnli0S25CWoDyQbxNyu40i2NAtkbCW19fZ2q1aqdxSORCHmNEmHUaCwWo/PzczvGRYbd3t62k5yXKGnSEHRmb2wxcOApYPIaJcJbW1tUKpUGsYtYLhaLxJNo5DVKmjS6D4yIotGo3Ywhiz50UnNGAaFvlx1NvYSypIUEBUlk6dfKooB4btxuEaoSnDJhgNhFdp6EkIUkYv3x8dHer0La84GHU1aMk09PTymXy1EikSC38VR4WFagUtoz4XGyAlXSSmN4HJNkBUJaxLQbTL2GXysrcNa07KUhmKrwW2UFQnppaYlkmZrwe2UFkN7b2yNZpiIsK+smyoVnSRYoFZ41WaBMeBZlgbLr4VmUBVLCo2YRVcriu2Un+6WExTyxuNBXLYvralxNySB9qwUTdel0enChj8GBG/2lE3HvCgUpOzngyiMPKH0M/brdLqkAhejWvavFMx66sxDWnYWw7kA4Sz6B57zjJtYIkH/4jYdLn8gncOXeG+VyeSMYDD5rss7hJbKhUGjf3NzcrHDbviT9ucEfO0tjLQBLfydN4bAdLOf5Z90Sj6uveXNFGoGKXFlZGazW+W+hFlak0V/pMM0xLFqxLOuS89O9c78x7gCI80FYDxHmhHZC80EWfS1vn9CEsZJl+AN/AE8Arqib3xs6AAAAAElFTkSuQmCC"},e9fe:function(t,e,a){"use strict";a("ffac")},edda:function(t,e,a){"use strict";a("5078")},f59b:function(t,e,a){"use strict";a("993c")},fd34:function(t,e){t.exports="data:image/png;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAYABgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t/yo49qO1FABR+VFFAB+VH5UUUAH5Uce1H40fjQAce1H5Uv40n40AHHtRx7UfjS/jQAnaiiigAopa6j4eeGF8R61mdd1nbASSg9GP8ACv4/yBoAn8J/Dm88Qxrc3Dmysm5VyMvIP9kenuf1r0Gy+GegWaANaNct/fmkYk/gCB+ldSqhFCqAFHAA6Cj/AD1oA5e8+Gnh+7QhbQ27f34ZGBH4EkfpXn/iz4b3nh+N7q1c3tkvLEDDxj3Hce4r2j/PWggMCDgg9QaAPmaius+I3hhPD2sCS3ULZ3QLoo6I38S/qD+NclQAtFJ/npRQAUUUtACV7D8IbVYvDk8wHzy3DZPsAAB/P868er1r4PagsukXlmSPMhm8zH+ywA/mp/OgD0Gik/z0ooAWiko/z0oA4r4t2qzeGElI+aGdSD7EEEfqPyrxqvXvi/qCwaFbWgI8yebdj/ZUHP6kV5FQAn+etFLRQAlFHaigArY8J+IpPDOsRXaAvEfkljB+8h6/j3H0rIrR0Lw7feI7ryLKEuR9+RuEQepNAH0Bp2o2+q2cd1ayrNBIMqwP6H0NWP8APWuX8G+CB4VVnN7NPK4+dFO2L/vnufeupoAT/PWoL+/t9MtJLm5lWGCMZZ2NWK5fxl4K/wCEqRWF7NBJH9yNjuiz6lfX3oA8o8XeJJPE+sSXRBSBRshjP8Kj19z1rErS13w7feHLryL2EoT9yReUceoNZtABRRRQAhoopcZNAGv4W8N3HifVEtYfkjHzSy44Rf8AH0Fe7aRo9podjHaWcQjiT82PqT3NZXgXw4vhzQoo3UC7mAknPfJ6L+A4/Ouh/wA9aAD/AD0opf8APWk/z1oAKP8APSj/AD1pf89aAKWr6Pa65YvaXkQkib81PYg9jXhXijw3P4Y1R7Wb54z80UuOHX/H1FfQP+etc9458OL4j0OWNFBu4QZID3yOq/iOPyoA8HooIwaKAE7V0PgLShq/iqyidd0Ubec49l5/ngfjXPGvQ/g3bB9U1G4xzHEqA/7xz/7LQB6xRSUUALRSf56UUALRSUf56UALRSUUAeDePNKGkeKb2JF2xSN5yD2bn+eR+Fc/Xofxktgmp6fcY5khZCf905/9mrzygD//2Q=="},ffac:function(t,e,a){}});
//# sourceMappingURL=app.81ed9194.js.map